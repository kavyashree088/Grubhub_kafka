{"ast":null,"code":"import _defineProperty from \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/Owner/OwnerHome.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Button, Card, Modal } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\n\nclass OwnerHome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getOrderDetails = id => event => {\n      console.log(id);\n      this.setState({\n        showModal: true,\n        orderDetails: this.props.getOrders.find(order => order._id === id)\n      }, () => {\n        this.setState({\n          items: this.state.orderDetails.items\n        });\n      });\n    };\n\n    this.setUpdateStatus = () => {\n      this.setState({\n        updateStatus: true\n      });\n    };\n\n    this.updateItemStatus = () => {\n      if (this.state.status.length !== 0) {\n        console.log(this.state.status);\n        let data = {\n          id: this.state.orderDetails._id,\n          status: this.state.status\n        };\n        this.props.updateItemStatus(data, this.props.owner.restaurant._id);\n      }\n\n      this.setState({\n        updateStatus: false\n      });\n      this.setState(prevState => ({\n        orderDetails: _objectSpread({}, prevState.orderDetails, {\n          status: this.state.status\n        })\n      }));\n    };\n\n    this.handleUpdateChange = event => {\n      this.setState({\n        status: event.target.value\n      });\n    };\n\n    this.handleClose = event => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.cancelOrder = () => {\n      let data = {\n        id: this.state.orderDetails._id,\n        status: \"Cancelled\"\n      };\n      this.props.updateItemStatus(data, this.props.owner.restaurant._id);\n      this.setState({\n        showModal: false,\n        updateStatus: false,\n        alert: false\n      });\n    };\n\n    this.closeAlert = () => {\n      this.setState({\n        alert: false\n      });\n    };\n\n    this.hancleCancleClick = () => {\n      console.log(\"here\");\n      this.setState({\n        showModal: false\n      }, () => {\n        this.setState({\n          alert: true\n        });\n      });\n    };\n\n    this.messageCustomer = user => event => {\n      console.log(user);\n      this.props.history.push({\n        pathname: \"/owner/Messages\",\n        state: {\n          user: user\n        }\n      });\n    };\n\n    this.state = {\n      items: [],\n      showModal: false,\n      orderDetails: null,\n      updateStatus: false,\n      status: \"\",\n      alert: false\n    };\n  }\n\n  componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n\n    this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newRestaurantDetails = nextProps.restaurant;\n\n    if (newRestaurantDetails !== this.props.restaurant) {\n      console.log(\"here\");\n      this.props.getOrdersforRestaurant(newRestaurantDetails._id);\n    }\n  }\n\n  convertTodate(date) {\n    date = date.split(\".\")[0];\n    let dateTimeParts = date.split(/[-T :]/);\n    dateTimeParts[1]--;\n    console.log(dateTimeParts);\n    return new Date(Date.UTC(...dateTimeParts));\n  }\n\n  render() {\n    let newOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"New\") {\n        return React.createElement(\"div\", {\n          as: Col,\n          md: 3,\n          style: {\n            margin: \" 8px 0 0 8px\",\n            cursor: \"pointer\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, React.createElement(Card, {\n          onClick: this.getOrderDetails(order._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"Order Id:\", order._id), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"New\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, order.user.firstName, \" \", order.user.lastName))));\n      }\n\n      return null;\n    });\n    let itemDetails = this.state.items.map(item => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, item.itemName, \"(\", item.quantity, \"): \", item.price, \"$\");\n    });\n    let prepOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"Preparing\" || order.status === \"Ready\") {\n        return React.createElement(\"div\", {\n          as: Col,\n          md: 3,\n          style: {\n            margin: \" 8px 0 0 8px\",\n            cursor: \"pointer\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(Card, {\n          onClick: this.getOrderDetails(order._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, \"Order Id:\", order._id), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, order.status), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, order.user.firstName, \" \", order.user.lastName))));\n      }\n\n      return null;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/OwnerHome\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"Home\")), React.createElement(\"a\", {\n      href: \"/OwnerHome\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"/Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"a\", {\n      href: \"/OwnerProfile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"/owner/PastOrders\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Past Orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Your Orders\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"New Orders\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, newOrderDetails), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Orders In Progress\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, prepOrderDetails), React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.handleClose,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Order Details\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, this.state.items.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Customer Details: \")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, this.state.orderDetails.user.firstName, \" \", this.state.orderDetails.user.lastName), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, this.state.orderDetails.user.phoneNO), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, this.state.orderDetails.user.restaurantaddress)), React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Items:\"), itemDetails), React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, \"Status:\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, this.state.orderDetails.status))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, this.state.updateStatus ? React.createElement(Col, {\n      md: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"select\",\n      onChange: this.handleUpdateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"New\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Preparing\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Ready\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"Delivered\")))), React.createElement(Button, {\n      onClick: this.updateItemStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"Update\")) : React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.setUpdateStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"Update Status\")), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.messageCustomer(this.state.orderDetails.user),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Message Customer\")))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    })), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.hancleCancleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"Cancel Order\"))), React.createElement(Modal, {\n      show: this.state.alert,\n      variant: \"danger\",\n      onHide: this.closeAlert,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Cancel Order?\"), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"Are you sure to cancel order?\")), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.closeAlert,\n      variant: \"outline-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Button, {\n      onClick: this.cancelOrder,\n      variant: \"outline-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"Cancel Order\")))))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    getOrders: state.ownerDetails.getOrdersRestaurant,\n    owner: state.ownerDetails.ownerProfile,\n    restaurant: state.ownerDetails.restaurantDetails,\n    orderSatusUpdate: state.ownerDetails.updateOrdersRestaurant\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(OwnerHome);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/Owner/OwnerHome.js"],"names":["React","Component","Navigation","connect","actionCreators","Row","Col","Container","Button","Card","Modal","Form","OwnerHome","constructor","props","getOrderDetails","id","event","console","log","setState","showModal","orderDetails","getOrders","find","order","_id","items","state","setUpdateStatus","updateStatus","updateItemStatus","status","length","data","owner","restaurant","prevState","handleUpdateChange","target","value","handleClose","cancelOrder","alert","closeAlert","hancleCancleClick","messageCustomer","user","history","push","pathname","componentWillMount","localStorage","getItem","removeItem","getRestaurantDetails","componentWillReceiveProps","nextProps","newRestaurantDetails","getOrdersforRestaurant","convertTodate","date","split","dateTimeParts","Date","UTC","render","newOrderDetails","map","margin","cursor","createdAt","toString","slice","replace","firstName","lastName","itemDetails","item","itemName","quantity","price","prepOrderDetails","phoneNO","restaurantaddress","color","mapStoreToProps","ownerDetails","getOrdersRestaurant","ownerProfile","restaurantDetails","orderSatusUpdate","updateOrdersRestaurant"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Button, Card, Modal } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\n\nclass OwnerHome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      showModal: false,\n      orderDetails: null,\n      updateStatus: false,\n      status: \"\",\n      alert: false\n    };\n  }\n\n  componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n    this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n  componentWillReceiveProps(nextProps) {\n    const newRestaurantDetails = nextProps.restaurant;\n    if (newRestaurantDetails !== this.props.restaurant) {\n      console.log(\"here\");\n      this.props.getOrdersforRestaurant(newRestaurantDetails._id);\n    }\n  }\n\n  convertTodate(date) {\n    date = date.split(\".\")[0];\n    let dateTimeParts = date.split(/[-T :]/);\n    dateTimeParts[1]--;\n    console.log(dateTimeParts);\n    return new Date(Date.UTC(...dateTimeParts));\n  }\n  getOrderDetails = id => event => {\n    console.log(id);\n    this.setState(\n      {\n        showModal: true,\n        orderDetails: this.props.getOrders.find(order => order._id === id)\n      },\n      () => {\n        this.setState({\n          items: this.state.orderDetails.items\n        });\n      }\n    );\n  };\n\n  setUpdateStatus = () => {\n    this.setState({\n      updateStatus: true\n    });\n  };\n  updateItemStatus = () => {\n    if (this.state.status.length !== 0) {\n      console.log(this.state.status);\n      let data = {\n        id: this.state.orderDetails._id,\n        status: this.state.status\n      };\n      this.props.updateItemStatus(data, this.props.owner.restaurant._id);\n    }\n    this.setState({\n      updateStatus: false\n    });\n    this.setState(prevState => ({\n      orderDetails: {\n        ...prevState.orderDetails,\n        status: this.state.status\n      }\n    }));\n  };\n  handleUpdateChange = event => {\n    this.setState({\n      status: event.target.value\n    });\n  };\n  handleClose = event => {\n    this.setState({\n      showModal: false\n    });\n  };\n  cancelOrder = () => {\n    let data = {\n      id: this.state.orderDetails._id,\n      status: \"Cancelled\"\n    };\n    this.props.updateItemStatus(data, this.props.owner.restaurant._id);\n    this.setState({\n      showModal: false,\n      updateStatus: false,\n      alert: false\n    });\n  };\n  closeAlert = () => {\n    this.setState({\n      alert: false\n    });\n  };\n  hancleCancleClick = () => {\n    console.log(\"here\");\n    this.setState(\n      {\n        showModal: false\n      },\n      () => {\n        this.setState({\n          alert: true\n        });\n      }\n    );\n  };\n\n  messageCustomer = user => event => {\n    console.log(user);\n    this.props.history.push({\n      pathname: \"/owner/Messages\",\n      state: { user: user }\n    });\n  };\n  render() {\n    let newOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"New\") {\n        return (\n          <div\n            as={Col}\n            md={3}\n            style={{\n              margin: \" 8px 0 0 8px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <Card onClick={this.getOrderDetails(order._id)}>\n              <Card.Header>Order Id:{order._id}</Card.Header>\n              <Card.Body>\n                <Card.Title>New</Card.Title>\n                <Card.Text>\n                  Time:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[1]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  Date:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[0]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  {order.user.firstName} {order.user.lastName}\n                </Card.Text>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n      return null;\n    });\n    let itemDetails = this.state.items.map(item => {\n      return (\n        <div>\n          {item.itemName}({item.quantity}): {item.price}$\n        </div>\n      );\n    });\n    let prepOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"Preparing\" || order.status === \"Ready\") {\n        return (\n          <div\n            as={Col}\n            md={3}\n            style={{\n              margin: \" 8px 0 0 8px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <Card onClick={this.getOrderDetails(order._id)}>\n              <Card.Header>Order Id:{order._id}</Card.Header>\n              <Card.Body>\n                <Card.Title>{order.status}</Card.Title>\n                <Card.Text>\n                  Time:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[1]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  Date:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[0]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  {order.user.firstName} {order.user.lastName}\n                </Card.Text>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n      return null;\n    });\n    return (\n      <div>\n        <Navigation></Navigation>\n        <Row>\n          <Col className=\"col-sm-3\">\n            <div className=\"vertical-menu bg-light\">\n              <a href=\"/OwnerHome\" className=\"header\">\n                <h2>Home</h2>\n              </a>\n              <a href=\"/OwnerHome\" className=\"active\">\n                Home\n              </a>\n              <a href=\"/Menu\">Menu</a>\n              <a href=\"/OwnerProfile\">Profile</a>\n              <a href=\"/owner/PastOrders\">Past Orders</a>\n            </div>\n          </Col>\n          <Col className=\"col-sm-9\">\n            <Container>\n              <div className=\"pt-3\">\n                <h1>Your Orders</h1>\n              </div>\n              <hr></hr>\n              <div>\n                <h3>New Orders</h3>\n              </div>\n              <Row>{newOrderDetails}</Row>\n              <hr></hr>\n              <div>\n                <h3>Orders In Progress</h3>\n              </div>\n              <Row>{prepOrderDetails}</Row>\n              <Modal\n                show={this.state.showModal}\n                onHide={this.handleClose}\n                size=\"lg\"\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n              >\n                <Modal.Header closeButton>\n                  <Modal.Title>Order Details</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  {this.state.items.length > 0 ? (\n                    <div>\n                      <Row>\n                        <Col md={4}>\n                          <div>\n                            <b>Customer Details: </b>\n                          </div>\n                          <div>\n                            {this.state.orderDetails.user.firstName}{\" \"}\n                            {this.state.orderDetails.user.lastName}\n                          </div>\n                          <div>{this.state.orderDetails.user.phoneNO}</div>\n                          <div>\n                            {this.state.orderDetails.user.restaurantaddress}\n                          </div>\n                        </Col>\n                        <Col md={4}>\n                          <b>Items:</b>\n                          {itemDetails}\n                        </Col>\n                        <Col md={4}>\n                          <b>Status:</b>\n                          <div>{this.state.orderDetails.status}</div>\n                        </Col>\n                      </Row>\n                      <Row>\n                        {this.state.updateStatus ? (\n                          <Col md={4}>\n                            <Form>\n                              <Form.Group>\n                                <Form.Control\n                                  as=\"select\"\n                                  onChange={this.handleUpdateChange}\n                                >\n                                  <option>New</option>\n                                  <option>Preparing</option>\n                                  <option>Ready</option>\n                                  <option>Delivered</option>\n                                </Form.Control>\n                              </Form.Group>\n                            </Form>\n                            <Button onClick={this.updateItemStatus}>\n                              Update\n                            </Button>\n                          </Col>\n                        ) : (\n                          <Col>\n                            <Button\n                              variant=\"secondary\"\n                              onClick={this.setUpdateStatus}\n                            >\n                              Update Status\n                            </Button>\n                          </Col>\n                        )}\n                        <Col>\n                          <Button\n                            onClick={this.messageCustomer(\n                              this.state.orderDetails.user\n                            )}\n                          >\n                            Message Customer\n                          </Button>\n                        </Col>\n                      </Row>\n                    </div>\n                  ) : (\n                    <div></div>\n                  )}\n                </Modal.Body>\n                <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={this.handleClose}>\n                    Close\n                  </Button>\n                  <Button variant=\"danger\" onClick={this.hancleCancleClick}>\n                    Cancel Order\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n              <Modal\n                show={this.state.alert}\n                variant=\"danger\"\n                onHide={this.closeAlert}\n                size=\"lg\"\n              >\n                <Modal.Header\n                  closeButton\n                  style={{\n                    color: \"red\"\n                  }}\n                >\n                  Cancel Order?\n                </Modal.Header>\n                <Modal.Body>\n                  <p>Are you sure to cancel order?</p>\n                </Modal.Body>\n\n                <Modal.Footer>\n                  <Button onClick={this.closeAlert} variant=\"outline-secondary\">\n                    Close\n                  </Button>\n                  <Button onClick={this.cancelOrder} variant=\"outline-danger\">\n                    Cancel Order\n                  </Button>\n                </Modal.Footer>\n              </Modal>\n            </Container>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\nfunction mapStoreToProps(state) {\n  return {\n    getOrders: state.ownerDetails.getOrdersRestaurant,\n    owner: state.ownerDetails.ownerProfile,\n    restaurant: state.ownerDetails.restaurantDetails,\n    orderSatusUpdate: state.ownerDetails.updateOrdersRestaurant\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(OwnerHome);\n"]},"metadata":{},"sourceType":"module"}