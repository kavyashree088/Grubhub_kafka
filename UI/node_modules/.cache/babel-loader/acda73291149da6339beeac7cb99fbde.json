{"ast":null,"code":"var _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/Owner/OwnerProfile.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Button, Toast, Image } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\nimport cookie from \"react-cookies\";\n\nclass OwnerProfile extends Component {\n  constructor(props) {\n    super();\n\n    this.handleNameEdit = event => {\n      this.setState({\n        isNameEditable: true\n      });\n    };\n\n    this.handleEmailEdit = event => {\n      this.setState({\n        isEmailEditable: true\n      });\n    };\n\n    this.handlePasswordEdit = event => {\n      this.setState({\n        isPasswordEditable: true\n      });\n    };\n\n    this.handleEmailCancel = event => {\n      this.setState({\n        isEmailEditable: false\n      });\n    };\n\n    this.handlePasswordCancel = event => {\n      this.setState({\n        isPasswordEditable: false\n      });\n    };\n\n    this.handleRestaurantCancel = event => {\n      this.setState({\n        isRestaurantDetailsUpdate: false\n      });\n    };\n\n    this.updateName = () => {\n      let fName = \"\";\n\n      if (this.state.firstName.length === 0) {\n        fName = this.props.profile.firstName;\n      } else {\n        fName = this.state.firstName;\n      }\n\n      let lName = \"\";\n\n      if (this.state.lastName.length === 0) {\n        lName = this.props.profile.lastName;\n      } else {\n        lName = this.state.firstName;\n      }\n\n      let data = {\n        email: localStorage.getItem(\"email\"),\n        firstName: fName,\n        lastName: lName\n      };\n      this.props.updateOwnerName(data);\n      this.setState({\n        isNameEditable: false\n      });\n    };\n\n    this.validateEmail = () => {\n      this.setState({\n        newEmailError: \"\",\n        confirmEmailError: \"\"\n      });\n      let flag = true;\n\n      if (this.state.newEmail.trim().length === 0) {\n        this.setState({\n          newEmailError: \"*Required\"\n        });\n        flag = false;\n      } else if (!this.state.newEmail.includes(\"@\") || !this.state.newEmail.includes(\".\")) {\n        this.setState({\n          newEmailError: \"Inavalid email\"\n        });\n        flag = false;\n      }\n\n      if (this.state.confirmEmail.trim().length === 0) {\n        this.setState({\n          confirmEmailError: \"*Required\"\n        });\n        flag = false;\n      } else if (this.state.newEmail !== this.state.confirmEmail) {\n        this.setState({\n          confirmEmailError: \"Confirm new email does not match\"\n        });\n        flag = false;\n      }\n\n      return flag;\n    };\n\n    this.updateEmail = () => {\n      if (this.validateEmail()) {\n        console.log(\"update Email\");\n        let data = {\n          email: localStorage.getItem(\"email\"),\n          newEmail: this.state.newEmail\n        };\n        this.props.updateOwnerEmail(data, this.props.history);\n        this.setState({\n          isEmailEditable: false\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.validatePassword = () => {\n      this.setState({\n        oldPasswordError: \"\",\n        newPasswordError: \"\",\n        confirmPasswordError: \"\"\n      });\n      console.log(localStorage.getItem(\"password\"));\n      let flag = true;\n\n      if (this.state.oldPassword !== localStorage.getItem(\"password\")) {\n        this.setState({\n          oldPasswordError: \"Invalid Password\"\n        });\n        flag = false;\n      } else if (this.state.newPassword.length < 8) {\n        this.setState({\n          newPasswordError: \"Insufficient Password length\"\n        });\n        flag = false;\n      } else if (this.state.newPassword !== this.state.confirmPassword) {\n        this.setState({\n          confirmPasswordError: \"Password Doesn't Match\"\n        });\n        flag = false;\n      }\n\n      return flag;\n    };\n\n    this.updatePassword = event => {\n      if (this.validatePassword()) {\n        console.log(\"update Password\");\n        let data = {\n          email: localStorage.getItem(\"email\"),\n          newPassword: this.state.newPassword\n        };\n        this.props.updateOwnerPassword(data, this.props.history);\n        this.setState({\n          isPasswordEditable: false\n        });\n      }\n    };\n\n    this.handleRestaurantEdit = () => {\n      this.setState({\n        isRestaurantDetailsUpdate: true\n      });\n      console.log(this.props.restaurant.name);\n    };\n\n    this.validateRestaurantDetails = () => {\n      this.setState({\n        restaurantNameError: \"\",\n        phoneNoError: \"\",\n        addressError: \"\",\n        cuisineError: \"\",\n        zipcodeError: \"\"\n      });\n      console.log(\"validate\");\n      let flag = true;\n\n      if (!this.state.restaurantName || this.state.restaurantName.trim().length === 0) {\n        this.setState({\n          restaurantNameError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      if (!this.state.phoneNo || this.state.phoneNo.trim().length === 0) {\n        this.setState({\n          phoneNoError: \"*Required\"\n        });\n        flag = false;\n      } else if (!/^\\d+$/.test(this.state.phoneNo) || this.state.phoneNo.length !== 10) {\n        this.setState({\n          phoneNoError: \"Invalid Phone Number\"\n        });\n        flag = false;\n      }\n\n      if (!this.state.address || this.state.address.trim().length === 0) {\n        this.setState({\n          addressError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      if (this.state.zipcode.trim().length === 0) {\n        this.setState({\n          zipcodeError: \"*Required\"\n        });\n        flag = false;\n      } else if (!/^\\d+$/.test(this.state.zipcode) || this.state.zipcode.length !== 5) {\n        this.setState({\n          zipcodeError: \"Invalid Zipcode\"\n        });\n        flag = false;\n      }\n\n      if (!this.state.cuisine || this.state.cuisine.trim().length === 0) {\n        this.setState({\n          cuisineError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      return flag;\n    };\n\n    this.updateRestaurantDetails = () => {\n      console.log(\"inside update\");\n\n      if (this.validateRestaurantDetails()) {\n        let data = {\n          name: this.state.restaurantName,\n          phoneNo: this.state.phoneNo,\n          address: this.state.address,\n          cuisine: this.state.cuisine,\n          zipcode: this.state.zipcode,\n          id: this.props.owner.restaurant._id\n        };\n        this.props.updateRestaurantDetails(data);\n        this.setState({\n          isRestaurantDetailsUpdate: false\n        });\n      }\n    };\n\n    this.onFileChange = event => {\n      this.setState({\n        imageFile: event.target.files[0]\n      });\n    };\n\n    this.uploadImage = event => {\n      event.preventDefault();\n\n      if (this.state.imageFile !== \"\") {\n        let formData = new FormData();\n        formData.append(\"id\", this.props.owner.restaurant._id);\n        formData.append(\"imageFile\", this.state.imageFile);\n        this.props.uploadRestaurantImage(formData);\n      }\n    };\n\n    this.state = {\n      isNameEditable: false,\n      isEmailEditable: false,\n      isPasswordEditable: false,\n      firstName: \"\",\n      lastName: \"\",\n      newEmail: \"\",\n      confirmEmail: \"\",\n      newEmailError: \"\",\n      confirmEmailError: \"\",\n      isUpdated: false,\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n      oldPasswordError: \"\",\n      newPasswordError: \"\",\n      confirmPasswordError: \"\",\n      isRestaurantDetailsUpdate: false,\n      restaurantName: \"\",\n      phoneNo: \"\",\n      address: \"\",\n      cuisine: \"\",\n      zipcode: \"\",\n      image: \"\",\n      restaurantNameError: \"\",\n      phoneNoError: \"\",\n      addressError: \"\",\n      cuisineError: \"\",\n      zipcodeError: \"\",\n      imageFile: \"\"\n    };\n  }\n\n  async componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n\n    await this.props.getOwnerProfile(localStorage.getItem(\"email\"));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newProfile = nextProps.nameUpdate;\n    const newRestUpdate = nextProps.restaurantUpdate;\n    const owner = nextProps.profile;\n    console.log(\"here\");\n    console.log(newProfile);\n\n    if (newProfile !== this.props.nameUpdate && newProfile === \"Successfully Updated\") {\n      console.log(\"updated\");\n      this.props.getOwnerProfile(localStorage.getItem(\"email\"));\n      this.setState({\n        isUpdated: true\n      });\n    }\n\n    if (newRestUpdate !== this.props.restaurantUpdate && newRestUpdate === \"Successfully Updated\") {\n      this.setState({\n        isUpdated: true\n      });\n      this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n    }\n\n    if (owner !== this.props.profile && owner !== undefined) {\n      this.setState({\n        restaurantName: owner.restaurant.name,\n        phoneNo: owner.restaurant.phoneNo,\n        address: owner.restaurant.address,\n        cuisine: owner.restaurant.cuisine,\n        zipcode: owner.restaurant.zipcode,\n        image: owner.restaurant.image\n      });\n    }\n  }\n\n  render() {\n    let nameEdit = null;\n\n    if (this.state.isNameEditable) {\n      nameEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"Edit Name\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(Form.Control, {\n        name: \"firstName\",\n        onChange: this.handleChange,\n        defaultValue: this.props.profile.firstName || \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(Form.Control, {\n        name: \"lastName\",\n        onChange: this.handleChange,\n        defaultValue: this.props.profile.lastName || \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.updateName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, \"Update Name\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleNameCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }));\n    } else {\n      nameEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, \"Name\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, this.props.profile.firstName || \"\", \" \", this.props.profile.lastName || \"\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handleNameEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }));\n    }\n\n    let emailEdit = null;\n\n    if (this.state.isEmailEditable) {\n      emailEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, \"Edit Email\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, \"New Email\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"newEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, this.state.newEmailError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      }, \"Confirm email\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"confirmEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, this.state.confirmEmailError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.updateEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, \"Update Email\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleEmailCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }));\n    } else {\n      emailEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, \"Email\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, this.props.profile.email || \"\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handleEmailEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }));\n    }\n\n    let passwordEdit = null;\n\n    if (this.state.isPasswordEditable) {\n      passwordEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, \"Edit Password\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, \"Old Password\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"oldPassword\",\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, this.state.oldPasswordError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, \"New Password\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"newPassword\",\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, this.state.newPasswordError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"confirmPassword\",\n        type: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, this.state.confirmPasswordError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.updatePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, \"Update Password\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handlePasswordCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }));\n    } else {\n      passwordEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }, \"Password\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, \"*************\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handlePasswordEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }));\n    }\n\n    let restaurantDetailsEdit = null;\n\n    if (this.state.isRestaurantDetailsUpdate) {\n      restaurantDetailsEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, \"Edit Restaurant Details\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, \"Restaurant Name\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"restaurantName\",\n        defaultValue: this.state.restaurantName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, this.state.restaurantNameError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, \"Phone Number\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"phoneNo\",\n        defaultValue: this.state.phoneNo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538\n        },\n        __self: this\n      }, this.state.phoneNoError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543\n        },\n        __self: this\n      }, \"Cuisine\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"cuisine\",\n        defaultValue: this.state.cuisine,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549\n        },\n        __self: this\n      }, this.state.cuisineError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }, \"Restaurant Address\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"address\",\n        defaultValue: this.state.address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }, this.state.addressError)), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565\n        },\n        __self: this\n      }, \"Zipcode\"), React.createElement(Form.Control, {\n        onChange: this.handleChange,\n        name: \"zipcode\",\n        defaultValue: this.state.zipcode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }, this.state.zipcodeError)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: \"http://localhost:3001/uploads/\".concat(this.props.owner.restaurant.image),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 576\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        enctype: \"multipart/form-data\",\n        className: \"pt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580\n        },\n        __self: this\n      }, React.createElement(Form.Control, {\n        type: \"file\",\n        name: \"imageFile\",\n        onChange: this.onFileChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }), React.createElement(Button, {\n        type: \"submit\",\n        value: \"Upload a file\",\n        name: \"uploadImage\",\n        onClick: this.uploadImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, \"Upload Image\")), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.updateRestaurantDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      }, \"Update Details\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleRestaurantCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      }));\n    } else {\n      restaurantDetailsEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615\n        },\n        __self: this\n      }, \"Restaurant Details\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: \"http://localhost:3001/uploads/\".concat(this.state.image),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      }, \"Restaurant Name\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625\n        },\n        __self: this\n      }, this.props.owner.restaurant.name || \"NA\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629\n        },\n        __self: this\n      }, \"Phone Number\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631\n        },\n        __self: this\n      }, this.props.owner.restaurant.phoneNo || \"NA\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 633\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635\n        },\n        __self: this\n      }, \"Cuisine\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 637\n        },\n        __self: this\n      }, this.props.owner.restaurant.cuisine || \"NA\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641\n        },\n        __self: this\n      }, \"Address\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643\n        },\n        __self: this\n      }, this.props.owner.restaurant.address || \"NA\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 646\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647\n        },\n        __self: this\n      }, \"Zipcode\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 649\n        },\n        __self: this\n      }, this.props.owner.restaurant.zipcode || \"NA\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handleRestaurantEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 651\n        },\n        __self: this\n      }, \"Edit\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 662\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 670\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 671\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 673\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/OwnerProfile\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 675\n      },\n      __self: this\n    }, \"Your Account\")), React.createElement(\"a\", {\n      href: \"/OwnerHome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"/Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"a\", {\n      href: \"/OwnerProfile\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"/owner/PastOrders\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682\n      },\n      __self: this\n    }, \"Past Orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 685\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 686\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"pt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 687\n      },\n      __self: this\n    }, \"Your Account\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 688\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 689\n      },\n      __self: this\n    }, React.createElement(Toast, {\n      style: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        backgroundColor: \"#4ede74\"\n      },\n      onClose: () => this.setState({\n        isUpdated: false\n      }),\n      show: this.state.isUpdated,\n      delay: 3000,\n      autohide: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 690\n      },\n      __self: this\n    }, React.createElement(Toast.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 702\n      },\n      __self: this\n    }, \"Successfully Updated!\")))), nameEdit, emailEdit, passwordEdit, restaurantDetailsEdit)))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    profile: state.ownerDetails.ownerProfile,\n    nameUpdate: state.ownerDetails.nameUpdate,\n    restaurantUpdate: state.ownerDetails.restaurantUpdate\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(OwnerProfile);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/Owner/OwnerProfile.js"],"names":["React","Component","Navigation","connect","actionCreators","Row","Col","Container","Button","Toast","Image","Form","cookie","OwnerProfile","constructor","props","handleNameEdit","event","setState","isNameEditable","handleEmailEdit","isEmailEditable","handlePasswordEdit","isPasswordEditable","handleEmailCancel","handlePasswordCancel","handleRestaurantCancel","isRestaurantDetailsUpdate","updateName","fName","state","firstName","length","profile","lName","lastName","data","email","localStorage","getItem","updateOwnerName","validateEmail","newEmailError","confirmEmailError","flag","newEmail","trim","includes","confirmEmail","updateEmail","console","log","updateOwnerEmail","history","handleChange","target","name","value","validatePassword","oldPasswordError","newPasswordError","confirmPasswordError","oldPassword","newPassword","confirmPassword","updatePassword","updateOwnerPassword","handleRestaurantEdit","restaurant","validateRestaurantDetails","restaurantNameError","phoneNoError","addressError","cuisineError","zipcodeError","restaurantName","phoneNo","test","address","zipcode","cuisine","updateRestaurantDetails","id","owner","_id","onFileChange","imageFile","files","uploadImage","preventDefault","formData","FormData","append","uploadRestaurantImage","isUpdated","image","componentWillMount","removeItem","push","getOwnerProfile","componentWillReceiveProps","nextProps","newProfile","nameUpdate","newRestUpdate","restaurantUpdate","getRestaurantDetails","undefined","render","nameEdit","handleNameCancel","color","emailEdit","fontSize","passwordEdit","restaurantDetailsEdit","position","top","right","backgroundColor","mapStoreToProps","ownerDetails","ownerProfile"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Button, Toast, Image } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\nimport cookie from \"react-cookies\";\n\nclass OwnerProfile extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      isNameEditable: false,\n      isEmailEditable: false,\n      isPasswordEditable: false,\n      firstName: \"\",\n      lastName: \"\",\n      newEmail: \"\",\n      confirmEmail: \"\",\n      newEmailError: \"\",\n      confirmEmailError: \"\",\n      isUpdated: false,\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmPassword: \"\",\n      oldPasswordError: \"\",\n      newPasswordError: \"\",\n      confirmPasswordError: \"\",\n      isRestaurantDetailsUpdate: false,\n      restaurantName: \"\",\n      phoneNo: \"\",\n      address: \"\",\n      cuisine: \"\",\n      zipcode: \"\",\n      image: \"\",\n      restaurantNameError: \"\",\n      phoneNoError: \"\",\n      addressError: \"\",\n      cuisineError: \"\",\n      zipcodeError: \"\",\n      imageFile: \"\"\n    };\n  }\n  componentWil;\n  async componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n    await this.props.getOwnerProfile(localStorage.getItem(\"email\"));\n  }\n  componentWillReceiveProps(nextProps) {\n    const newProfile = nextProps.nameUpdate;\n    const newRestUpdate = nextProps.restaurantUpdate;\n    const owner = nextProps.profile;\n    console.log(\"here\");\n    console.log(newProfile);\n    if (\n      newProfile !== this.props.nameUpdate &&\n      newProfile === \"Successfully Updated\"\n    ) {\n      console.log(\"updated\");\n      this.props.getOwnerProfile(localStorage.getItem(\"email\"));\n      this.setState({\n        isUpdated: true\n      });\n    }\n    if (\n      newRestUpdate !== this.props.restaurantUpdate &&\n      newRestUpdate === \"Successfully Updated\"\n    ) {\n      this.setState({\n        isUpdated: true\n      });\n      this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n    }\n\n    if (owner !== this.props.profile && owner !== undefined) {\n      this.setState({\n        restaurantName: owner.restaurant.name,\n        phoneNo: owner.restaurant.phoneNo,\n        address: owner.restaurant.address,\n        cuisine: owner.restaurant.cuisine,\n        zipcode: owner.restaurant.zipcode,\n        image: owner.restaurant.image\n      });\n    }\n  }\n  handleNameEdit = event => {\n    this.setState({ isNameEditable: true });\n  };\n  handleEmailEdit = event => {\n    this.setState({ isEmailEditable: true });\n  };\n  handlePasswordEdit = event => {\n    this.setState({ isPasswordEditable: true });\n  };\n  handleEmailCancel = event => {\n    this.setState({ isEmailEditable: false });\n  };\n  handlePasswordCancel = event => {\n    this.setState({ isPasswordEditable: false });\n  };\n\n  handleRestaurantCancel = event => {\n    this.setState({ isRestaurantDetailsUpdate: false });\n  };\n  updateName = () => {\n    let fName = \"\";\n    if (this.state.firstName.length === 0) {\n      fName = this.props.profile.firstName;\n    } else {\n      fName = this.state.firstName;\n    }\n    let lName = \"\";\n    if (this.state.lastName.length === 0) {\n      lName = this.props.profile.lastName;\n    } else {\n      lName = this.state.firstName;\n    }\n    let data = {\n      email: localStorage.getItem(\"email\"),\n      firstName: fName,\n      lastName: lName\n    };\n    this.props.updateOwnerName(data);\n    this.setState({\n      isNameEditable: false\n    });\n  };\n\n  validateEmail = () => {\n    this.setState({\n      newEmailError: \"\",\n      confirmEmailError: \"\"\n    });\n    let flag = true;\n    if (this.state.newEmail.trim().length === 0) {\n      this.setState({\n        newEmailError: \"*Required\"\n      });\n      flag = false;\n    } else if (\n      !this.state.newEmail.includes(\"@\") ||\n      !this.state.newEmail.includes(\".\")\n    ) {\n      this.setState({\n        newEmailError: \"Inavalid email\"\n      });\n      flag = false;\n    }\n    if (this.state.confirmEmail.trim().length === 0) {\n      this.setState({\n        confirmEmailError: \"*Required\"\n      });\n      flag = false;\n    } else if (this.state.newEmail !== this.state.confirmEmail) {\n      this.setState({\n        confirmEmailError: \"Confirm new email does not match\"\n      });\n      flag = false;\n    }\n    return flag;\n  };\n\n  updateEmail = () => {\n    if (this.validateEmail()) {\n      console.log(\"update Email\");\n      let data = {\n        email: localStorage.getItem(\"email\"),\n        newEmail: this.state.newEmail\n      };\n      this.props.updateOwnerEmail(data, this.props.history);\n      this.setState({\n        isEmailEditable: false\n      });\n    }\n  };\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  validatePassword = () => {\n    this.setState({\n      oldPasswordError: \"\",\n      newPasswordError: \"\",\n      confirmPasswordError: \"\"\n    });\n    console.log(localStorage.getItem(\"password\"));\n    let flag = true;\n    if (this.state.oldPassword !== localStorage.getItem(\"password\")) {\n      this.setState({\n        oldPasswordError: \"Invalid Password\"\n      });\n      flag = false;\n    } else if (this.state.newPassword.length < 8) {\n      this.setState({\n        newPasswordError: \"Insufficient Password length\"\n      });\n      flag = false;\n    } else if (this.state.newPassword !== this.state.confirmPassword) {\n      this.setState({\n        confirmPasswordError: \"Password Doesn't Match\"\n      });\n      flag = false;\n    }\n    return flag;\n  };\n  updatePassword = event => {\n    if (this.validatePassword()) {\n      console.log(\"update Password\");\n      let data = {\n        email: localStorage.getItem(\"email\"),\n        newPassword: this.state.newPassword\n      };\n      this.props.updateOwnerPassword(data, this.props.history);\n      this.setState({\n        isPasswordEditable: false\n      });\n    }\n  };\n  handleRestaurantEdit = () => {\n    this.setState({\n      isRestaurantDetailsUpdate: true\n    });\n    console.log(this.props.restaurant.name);\n  };\n  validateRestaurantDetails = () => {\n    this.setState({\n      restaurantNameError: \"\",\n      phoneNoError: \"\",\n      addressError: \"\",\n      cuisineError: \"\",\n      zipcodeError: \"\"\n    });\n\n    console.log(\"validate\");\n    let flag = true;\n    if (\n      !this.state.restaurantName ||\n      this.state.restaurantName.trim().length === 0\n    ) {\n      this.setState({\n        restaurantNameError: \"*Required\"\n      });\n      flag = false;\n    }\n    if (!this.state.phoneNo || this.state.phoneNo.trim().length === 0) {\n      this.setState({\n        phoneNoError: \"*Required\"\n      });\n      flag = false;\n    } else if (\n      !/^\\d+$/.test(this.state.phoneNo) ||\n      this.state.phoneNo.length !== 10\n    ) {\n      this.setState({\n        phoneNoError: \"Invalid Phone Number\"\n      });\n      flag = false;\n    }\n    if (!this.state.address || this.state.address.trim().length === 0) {\n      this.setState({\n        addressError: \"*Required\"\n      });\n      flag = false;\n    }\n    if (this.state.zipcode.trim().length === 0) {\n      this.setState({\n        zipcodeError: \"*Required\"\n      });\n      flag = false;\n    } else if (\n      !/^\\d+$/.test(this.state.zipcode) ||\n      this.state.zipcode.length !== 5\n    ) {\n      this.setState({\n        zipcodeError: \"Invalid Zipcode\"\n      });\n      flag = false;\n    }\n    if (!this.state.cuisine || this.state.cuisine.trim().length === 0) {\n      this.setState({\n        cuisineError: \"*Required\"\n      });\n      flag = false;\n    }\n    return flag;\n  };\n  updateRestaurantDetails = () => {\n    console.log(\"inside update\");\n    if (this.validateRestaurantDetails()) {\n      let data = {\n        name: this.state.restaurantName,\n        phoneNo: this.state.phoneNo,\n        address: this.state.address,\n        cuisine: this.state.cuisine,\n        zipcode: this.state.zipcode,\n        id: this.props.owner.restaurant._id\n      };\n      this.props.updateRestaurantDetails(data);\n      this.setState({\n        isRestaurantDetailsUpdate: false\n      });\n    }\n  };\n  onFileChange = event => {\n    this.setState({\n      imageFile: event.target.files[0]\n    });\n  };\n\n  uploadImage = event => {\n    event.preventDefault();\n    if (this.state.imageFile !== \"\") {\n      let formData = new FormData();\n      formData.append(\"id\", this.props.owner.restaurant._id);\n      formData.append(\"imageFile\", this.state.imageFile);\n      this.props.uploadRestaurantImage(formData);\n    }\n  };\n  render() {\n    let nameEdit = null;\n    if (this.state.isNameEditable) {\n      nameEdit = (\n        <div>\n          <h3>Edit Name</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>First Name</Form.Label>\n              <Form.Control\n                name=\"firstName\"\n                onChange={this.handleChange}\n                defaultValue={this.props.profile.firstName || \"\"}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Last Name</Form.Label>\n              <Form.Control\n                name=\"lastName\"\n                onChange={this.handleChange}\n                defaultValue={this.props.profile.lastName || \"\"}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Button onClick={this.updateName}>Update Name</Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handleNameCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      nameEdit = (\n        <div>\n          <label className=\"pt-2\">\n            <b>Name</b>\n          </label>\n          <div>\n            {this.props.profile.firstName || \"\"}{\" \"}\n            {this.props.profile.lastName || \"\"}\n            <div\n              class=\"float-right\"\n              role=\"button\"\n              style={{ color: \"blue\" }}\n              onClick={this.handleNameEdit}\n            >\n              Edit\n            </div>\n          </div>\n          <hr></hr>\n        </div>\n      );\n    }\n    let emailEdit = null;\n    if (this.state.isEmailEditable) {\n      emailEdit = (\n        <div>\n          <h3>Edit Email</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>New Email</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"newEmail\"\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.newEmailError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Confirm email</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"confirmEmail\"\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.confirmEmailError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Button onClick={this.updateEmail}>Update Email</Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handleEmailCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      emailEdit = (\n        <div>\n          <label className=\"pt-2\">\n            <b>Email</b>\n          </label>\n          <div>\n            {this.props.profile.email || \"\"}\n            <div\n              class=\"float-right\"\n              role=\"button\"\n              style={{ color: \"blue\" }}\n              onClick={this.handleEmailEdit}\n            >\n              Edit\n            </div>\n          </div>\n          <hr></hr>\n        </div>\n      );\n    }\n    let passwordEdit = null;\n    if (this.state.isPasswordEditable) {\n      passwordEdit = (\n        <div>\n          <h3>Edit Password</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>Old Password</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"oldPassword\"\n                type=\"password\"\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.oldPasswordError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>New Password</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"newPassword\"\n                type=\"password\"\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.newPasswordError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Confirm Password</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"confirmPassword\"\n                type=\"password\"\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.confirmPasswordError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Button onClick={this.updatePassword}>Update Password</Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handlePasswordCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      passwordEdit = (\n        <div>\n          <label className=\"pt-2\">\n            <b>Password</b>\n          </label>\n          <div>\n            *************\n            <div\n              class=\"float-right\"\n              role=\"button\"\n              style={{ color: \"blue\" }}\n              onClick={this.handlePasswordEdit}\n            >\n              Edit\n            </div>\n          </div>\n          <hr></hr>\n        </div>\n      );\n    }\n    let restaurantDetailsEdit = null;\n    if (this.state.isRestaurantDetailsUpdate) {\n      restaurantDetailsEdit = (\n        <div>\n          <h3>Edit Restaurant Details</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>Restaurant Name</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"restaurantName\"\n                defaultValue={this.state.restaurantName}\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.restaurantNameError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Phone Number</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"phoneNo\"\n                defaultValue={this.state.phoneNo}\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.phoneNoError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Cuisine</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"cuisine\"\n                defaultValue={this.state.cuisine}\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.cuisineError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Restaurant Address</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"address\"\n                defaultValue={this.state.address}\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.addressError}\n              </div>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Zipcode</Form.Label>\n              <Form.Control\n                onChange={this.handleChange}\n                name=\"zipcode\"\n                defaultValue={this.state.zipcode}\n              ></Form.Control>\n              <div style={{ fontSize: 12, color: \"red\" }}>\n                {this.state.zipcodeError}\n              </div>\n            </Form.Group>\n            <div>\n              <Image\n                src={`http://localhost:3001/uploads/${this.props.owner.restaurant.image}`}\n              ></Image>\n            </div>\n            <Form.Group enctype=\"multipart/form-data\" className=\"pt-3\">\n              <Form.Control\n                type=\"file\"\n                name=\"imageFile\"\n                onChange={this.onFileChange}\n              ></Form.Control>\n              <Button\n                type=\"submit\"\n                value=\"Upload a file\"\n                name=\"uploadImage\"\n                onClick={this.uploadImage}\n              >\n                Upload Image\n              </Button>\n            </Form.Group>\n            <Form.Group>\n              <Button onClick={this.updateRestaurantDetails}>\n                Update Details\n              </Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handleRestaurantCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      restaurantDetailsEdit = (\n        <div>\n          <div>\n            <label className=\"pt-2\">\n              <b>Restaurant Details</b>\n            </label>\n            <div>\n              <Image\n                src={`http://localhost:3001/uploads/${this.state.image}`}\n              ></Image>\n            </div>\n            <label className=\"pt-2\">\n              <b>Restaurant Name</b>\n            </label>\n            <div>{this.props.owner.restaurant.name || \"NA\"}</div>\n          </div>\n          <div>\n            <label className=\"pt-2\">\n              <b>Phone Number</b>\n            </label>\n            <div>{this.props.owner.restaurant.phoneNo || \"NA\"}</div>\n          </div>\n          <div>\n            <label className=\"pt-2\">\n              <b>Cuisine</b>\n            </label>\n            <div>{this.props.owner.restaurant.cuisine || \"NA\"}</div>\n          </div>\n          <div>\n            <label className=\"pt-2\">\n              <b>Address</b>\n            </label>\n            <div>{this.props.owner.restaurant.address || \"NA\"}</div>\n          </div>\n          <div>\n            <label className=\"pt-2\">\n              <b>Zipcode</b>\n            </label>\n            <div>\n              {this.props.owner.restaurant.zipcode || \"NA\"}\n              <div\n                class=\"float-right\"\n                role=\"button\"\n                style={{ color: \"blue\" }}\n                onClick={this.handleRestaurantEdit}\n              >\n                Edit\n              </div>\n            </div>\n          </div>\n\n          <hr></hr>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <Navigation></Navigation>\n        <div>\n          <Row>\n            <Col className=\"col-sm-3\">\n              <div className=\"vertical-menu bg-light\">\n                <a href=\"/OwnerProfile\" className=\"header\">\n                  <h2>Your Account</h2>\n                </a>\n                <a href=\"/OwnerHome\">Home</a>\n                <a href=\"/Menu\">Menu</a>\n                <a href=\"/OwnerProfile\" className=\"active\">\n                  Profile\n                </a>\n                <a href=\"/owner/PastOrders\">Past Orders</a>\n              </div>\n            </Col>\n            <Col className=\"col-sm-9\">\n              <Container>\n                <h3 className=\"pt-5\">Your Account</h3>\n                <Row>\n                  <Col>\n                    <Toast\n                      style={{\n                        position: \"absolute\",\n                        top: 0,\n                        right: 0,\n                        backgroundColor: \"#4ede74\"\n                      }}\n                      onClose={() => this.setState({ isUpdated: false })}\n                      show={this.state.isUpdated}\n                      delay={3000}\n                      autohide\n                    >\n                      <Toast.Body>Successfully Updated!</Toast.Body>\n                    </Toast>\n                  </Col>\n                </Row>\n                {nameEdit}\n                {emailEdit}\n                {passwordEdit}\n                {restaurantDetailsEdit}\n              </Container>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStoreToProps(state) {\n  return {\n    profile: state.ownerDetails.ownerProfile,\n    nameUpdate: state.ownerDetails.nameUpdate,\n    restaurantUpdate: state.ownerDetails.restaurantUpdate\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(OwnerProfile);\n"]},"metadata":{},"sourceType":"module"}