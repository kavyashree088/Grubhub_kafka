{"ast":null,"code":"var _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/components/Owner/OwnerHome.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Button, Toast, Card, Modal } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\nimport cookie from \"react-cookies\";\n\nclass OwnerHome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getOrderDetails = id => event => {\n      console.log(id);\n      this.props.getOrdersItems(id);\n      this.setState({\n        showModal: true,\n        orderDetails: this.props.getOrders.find(order => order.id === id)\n      });\n    };\n\n    this.state = {\n      items: [],\n      showModal: false,\n      orderDetails: null\n    };\n  }\n\n  componentWillMount() {\n    if (!cookie.load(\"cookie\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n\n    this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newRestaurantDetails = nextProps.restaurant;\n    const newOrderItems = nextProps.getItems;\n\n    if (newRestaurantDetails !== this.props.restaurant) {\n      this.props.getOrdersforRestaurant(newRestaurantDetails.id);\n    }\n\n    if (newOrderItems !== this.props.getItems) {\n      console.log(\"here\");\n      this.setState({\n        items: newOrderItems\n      });\n    }\n  }\n\n  convertTodate(date) {\n    date = date.split(\".\")[0];\n    let dateTimeParts = date.split(/[-T :]/);\n    dateTimeParts[1]--;\n    console.log(dateTimeParts);\n    return new Date(Date.UTC(...dateTimeParts));\n  }\n\n  render() {\n    let newOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"New\") {\n        return React.createElement(\"div\", {\n          as: Col,\n          md: 3,\n          style: {\n            margin: \" 8px 0 0 8px\",\n            cursor: \"pointer\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(Card, {\n          onClick: this.getOrderDetails(order.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, \"Order Id:\", order.id), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"New\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, order.firstName, \" \", order.lastName))));\n      }\n    });\n    let itemDetails = this.state.items.map(item => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, item.itemName, \"(\", item.quantity, \"): \", item.price, \"$\");\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Home\")), React.createElement(\"a\", {\n      href: \"/OwnerHome\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"/Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"a\", {\n      href: \"/OwnerProfile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Past Orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Your Orders\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"New Orders\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, newOrderDetails), React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.handleClose,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Order Details\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.items.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Customer Details: \")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, this.state.orderDetails.firstName, \" \", this.state.orderDetails.lastName), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, this.state.orderDetails.phoneNO), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.orderDetails.address)), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Items\"), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, itemDetails))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    getOrders: state.ownerDetails.getOrdersRestaurant,\n    restaurant: state.ownerDetails.restaurantDetails,\n    getItems: state.ownerDetails.getOrderItems\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(OwnerHome);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/components/Owner/OwnerHome.js"],"names":["React","Component","Navigation","connect","actionCreators","Row","Col","Container","Button","Toast","Card","Modal","Form","cookie","OwnerHome","constructor","props","getOrderDetails","id","event","console","log","getOrdersItems","setState","showModal","orderDetails","getOrders","find","order","state","items","componentWillMount","load","localStorage","removeItem","history","push","getRestaurantDetails","getItem","componentWillReceiveProps","nextProps","newRestaurantDetails","restaurant","newOrderItems","getItems","getOrdersforRestaurant","convertTodate","date","split","dateTimeParts","Date","UTC","render","newOrderDetails","map","status","margin","cursor","createdAt","toString","slice","replace","firstName","lastName","itemDetails","item","itemName","quantity","price","handleClose","length","phoneNO","address","mapStoreToProps","ownerDetails","getOrdersRestaurant","restaurantDetails","getOrderItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport {\n  Row,\n  Col,\n  Container,\n  Button,\n  Toast,\n  Card,\n  Modal\n} from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\nimport cookie from \"react-cookies\";\n\nclass OwnerHome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      showModal: false,\n      orderDetails: null\n    };\n  }\n\n  componentWillMount() {\n    if (!cookie.load(\"cookie\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n    this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n  componentWillReceiveProps(nextProps) {\n    const newRestaurantDetails = nextProps.restaurant;\n    const newOrderItems = nextProps.getItems;\n    if (newRestaurantDetails !== this.props.restaurant) {\n      this.props.getOrdersforRestaurant(newRestaurantDetails.id);\n    }\n    if (newOrderItems !== this.props.getItems) {\n      console.log(\"here\");\n      this.setState({\n        items: newOrderItems\n      });\n    }\n  }\n\n  convertTodate(date) {\n    date = date.split(\".\")[0];\n    let dateTimeParts = date.split(/[-T :]/);\n    dateTimeParts[1]--;\n    console.log(dateTimeParts);\n    return new Date(Date.UTC(...dateTimeParts));\n  }\n  getOrderDetails = id => event => {\n    console.log(id);\n    this.props.getOrdersItems(id);\n    this.setState({\n      showModal: true,\n      orderDetails: this.props.getOrders.find(order => order.id === id)\n    });\n  };\n  render() {\n    let newOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"New\") {\n        return (\n          <div\n            as={Col}\n            md={3}\n            style={{\n              margin: \" 8px 0 0 8px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <Card onClick={this.getOrderDetails(order.id)}>\n              <Card.Header>Order Id:{order.id}</Card.Header>\n              <Card.Body>\n                <Card.Title>New</Card.Title>\n                <Card.Text>\n                  Time:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[1]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  Date:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[0]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  {order.firstName} {order.lastName}\n                </Card.Text>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n    });\n    let itemDetails = this.state.items.map(item => {\n      return (\n        <div>\n          {item.itemName}({item.quantity}): {item.price}$\n        </div>\n      );\n    });\n    return (\n      <div>\n        <Navigation></Navigation>\n        <Row>\n          <Col className=\"col-sm-3\">\n            <div className=\"vertical-menu bg-light\">\n              <a className=\"header\">\n                <h2>Home</h2>\n              </a>\n              <a href=\"/OwnerHome\" className=\"active\">\n                Home\n              </a>\n              <a href=\"/Menu\">Menu</a>\n              <a href=\"/OwnerProfile\">Profile</a>\n              <a href=\"#\">Past Orders</a>\n            </div>\n          </Col>\n          <Col className=\"col-sm-9\">\n            <Container>\n              <div className=\"pt-3\">\n                <h1>Your Orders</h1>\n              </div>\n              <hr></hr>\n              <div>\n                <h3>New Orders</h3>\n              </div>\n              <Row>{newOrderDetails}</Row>\n              <Modal\n                show={this.state.showModal}\n                onHide={this.handleClose}\n                size=\"lg\"\n                aria-labelledby=\"contained-modal-title-vcenter\"\n                centered\n              >\n                <Modal.Header>\n                  <Modal.Title>Order Details</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                  {this.state.items.length > 0 ? (\n                    <div>\n                      <Row>\n                        <Col>\n                          <div>\n                            <b>Customer Details: </b>\n                          </div>\n                          <div>\n                            {this.state.orderDetails.firstName}{\" \"}\n                            {this.state.orderDetails.lastName}\n                          </div>\n                          <div>{this.state.orderDetails.phoneNO}</div>\n                          <div>{this.state.orderDetails.address}</div>\n                        </Col>\n                        <Col>Items</Col>\n                        <Col>{itemDetails}</Col>\n                      </Row>\n                    </div>\n                  ) : (\n                    <div></div>\n                  )}\n                </Modal.Body>\n              </Modal>\n            </Container>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\nfunction mapStoreToProps(state) {\n  return {\n    getOrders: state.ownerDetails.getOrdersRestaurant,\n    restaurant: state.ownerDetails.restaurantDetails,\n    getItems: state.ownerDetails.getOrderItems\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(OwnerHome);\n"]},"metadata":{},"sourceType":"module"}