{"ast":null,"code":"import axios from \"axios\";\nexport function createUser(data, history) {\n  console.log(\"create user\");\n  return function (dispatch) {\n    axios.post(\"http://localhost:3001/createUser\", data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        history.push(\"/SignIn\");\n      }\n\n      dispatch({\n        type: \"CREATE_USERS\",\n        users: {}\n      });\n    });\n  };\n}\nexport function userLogin(data, history) {\n  console.log(\"user login\");\n  return function (dispatch) {\n    axios.defaults.withCredentials = true;\n    axios.post(\"http://localhost:3001/loginUser\", data).then(response => {\n      if (response.status === 200) {\n        localStorage.setItem(\"email\", data.email);\n        history.push(\"/\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: true,\n            firstName: response.data[0].firstName,\n            email: data.email,\n            password: data.password\n          }\n        });\n      } else {\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: true\n          }\n        }).catch(error => {\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"USER_LOGIN\",\n            payload: {\n              authflag: true\n            }\n          });\n        });\n      }\n    });\n  };\n}\nexport function getUserProfile(data) {\n  return function (dispatch) {\n    console.log(\"profile\");\n    console.log(data);\n    axios.get(\"http://localhost:3001/userdetails/\" + data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_PROFILE\",\n          payload: response.data[0]\n        });\n      }\n    });\n  };\n}\nexport function updateUserName(data) {\n  return function (dispatch) {\n    axios.put(\"http://localhost:3001/userdetails/name\", data).then(response => {\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_NAME_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_NAME_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\nexport function updateUserEmail(data, history) {\n  return function (dispatch) {\n    axios.put(\"http://localhost:3001/userdetails/email\", data).then(response => {\n      if (response.status === 200) {\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_EMAIL_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_EMAIL_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/js/actions/index.js"],"names":["axios","createUser","data","history","console","log","dispatch","post","then","response","status","push","type","users","userLogin","defaults","withCredentials","localStorage","setItem","email","payload","authflag","firstName","password","catch","error","getUserProfile","get","updateUserName","put","updateUserEmail"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nexport function createUser(data, history) {\n  console.log(\"create user\");\n  return function(dispatch) {\n    axios.post(\"http://localhost:3001/createUser\", data).then(response => {\n      console.log(response);\n      if (response.status === 200) {\n        history.push(\"/SignIn\");\n      }\n      dispatch({\n        type: \"CREATE_USERS\",\n        users: {}\n      });\n    });\n  };\n}\n\nexport function userLogin(data, history) {\n  console.log(\"user login\");\n  return function(dispatch) {\n    axios.defaults.withCredentials = true;\n    axios.post(\"http://localhost:3001/loginUser\", data).then(response => {\n      if (response.status === 200) {\n        localStorage.setItem(\"email\", data.email);\n        history.push(\"/\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: true,\n            firstName: response.data[0].firstName,\n            email: data.email,\n            password: data.password\n          }\n        });\n      } else {\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: true\n          }\n        }).catch(error => {\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"USER_LOGIN\",\n            payload: {\n              authflag: true\n            }\n          });\n        });\n      }\n    });\n  };\n}\n\nexport function getUserProfile(data) {\n  return function(dispatch) {\n    console.log(\"profile\");\n    console.log(data);\n    axios.get(\"http://localhost:3001/userdetails/\" + data).then(response => {\n      console.log(response);\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_PROFILE\",\n          payload: response.data[0]\n        });\n      }\n    });\n  };\n}\n\nexport function updateUserName(data) {\n  return function(dispatch) {\n    axios.put(\"http://localhost:3001/userdetails/name\", data).then(response => {\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_NAME_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_NAME_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\n\nexport function updateUserEmail(data, history) {\n  return function(dispatch) {\n    axios\n      .put(\"http://localhost:3001/userdetails/email\", data)\n      .then(response => {\n        if (response.status === 200) {\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"USER_EMAIL_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_EMAIL_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}