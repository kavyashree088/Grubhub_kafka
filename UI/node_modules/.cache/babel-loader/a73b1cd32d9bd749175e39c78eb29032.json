{"ast":null,"code":"var _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/Owner/PastOrders.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Card } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\n\nclass PastOrders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderDetails: null,\n      updateStatus: false\n    };\n  }\n\n  componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n\n    this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newRestaurantDetails = nextProps.restaurant;\n\n    if (newRestaurantDetails !== this.props.restaurant) {\n      this.props.getOrdersforRestaurant(newRestaurantDetails._id);\n    }\n  }\n\n  render() {\n    let pastOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"Delivered\" || order.status === \"Cancelled\") {\n        let items = order.items.map(item => {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, item.itemName);\n        });\n        return React.createElement(\"div\", {\n          as: Col,\n          md: 3,\n          style: {\n            margin: \" 8px 0 0 8px\",\n            cursor: \"pointer\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Order Id:\", order._id), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, order.status), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, order.user.firstName, \" \", order.user.lastName), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, items))));\n      }\n\n      return null;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/Owner/PastOrders\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Past Orders\")), React.createElement(\"a\", {\n      href: \"/OwnerHome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"/Menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"a\", {\n      href: \"/OwnerProfile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"/Owner/PastOrders\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Past Orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Your Orders\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Past Orders\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, pastOrderDetails)))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    getOrders: state.ownerDetails.getOrdersRestaurant,\n    restaurant: state.ownerDetails.restaurantDetails\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(PastOrders);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/Owner/PastOrders.js"],"names":["React","Component","Navigation","connect","actionCreators","Row","Col","Container","Card","PastOrders","constructor","props","state","orderDetails","updateStatus","componentWillMount","localStorage","getItem","removeItem","history","push","getRestaurantDetails","componentWillReceiveProps","nextProps","newRestaurantDetails","restaurant","getOrdersforRestaurant","_id","render","pastOrderDetails","getOrders","map","order","status","items","item","itemName","margin","cursor","createdAt","toString","slice","replace","split","user","firstName","lastName","mapStoreToProps","ownerDetails","getOrdersRestaurant","restaurantDetails"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\nimport { Row, Col, Container, Card } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\n\nclass PastOrders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderDetails: null,\n      updateStatus: false\n    };\n  }\n\n  componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n    this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n  componentWillReceiveProps(nextProps) {\n    const newRestaurantDetails = nextProps.restaurant;\n    if (newRestaurantDetails !== this.props.restaurant) {\n      this.props.getOrdersforRestaurant(newRestaurantDetails._id);\n    }\n  }\n  render() {\n    let pastOrderDetails = this.props.getOrders.map(order => {\n      if (order.status === \"Delivered\" || order.status === \"Cancelled\") {\n        let items = order.items.map(item => {\n          return <div>{item.itemName}</div>;\n        });\n        return (\n          <div\n            as={Col}\n            md={3}\n            style={{\n              margin: \" 8px 0 0 8px\",\n              cursor: \"pointer\"\n            }}\n          >\n            <Card>\n              <Card.Header>Order Id:{order._id}</Card.Header>\n              <Card.Body>\n                <Card.Title>{order.status}</Card.Title>\n                <Card.Text>\n                  Time:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[1]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  Date:\n                  {\n                    order.createdAt\n                      .toString()\n                      .slice(0, 19)\n                      .replace(\"T\", \" \")\n                      .split(\" \")[0]\n                  }\n                </Card.Text>\n                <Card.Text>\n                  {order.user.firstName} {order.user.lastName}\n                </Card.Text>\n                <Card.Text>{items}</Card.Text>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n      return null;\n    });\n    return (\n      <div>\n        <Navigation></Navigation>\n        <Row>\n          <Col className=\"col-sm-3\">\n            <div className=\"vertical-menu bg-light\">\n              <a href=\"/Owner/PastOrders\" className=\"header\">\n                <h2>Past Orders</h2>\n              </a>\n              <a href=\"/OwnerHome\">Home</a>\n              <a href=\"/Menu\">Menu</a>\n              <a href=\"/OwnerProfile\">Profile</a>\n              <a href=\"/Owner/PastOrders\" className=\"active\">\n                Past Orders\n              </a>\n            </div>\n          </Col>\n          <Col className=\"col-sm-9\">\n            <Container>\n              <div className=\"pt-3\">\n                <h1>Your Orders</h1>\n              </div>\n              <hr></hr>\n              <div>\n                <h3>Past Orders</h3>\n              </div>\n              <Row>{pastOrderDetails}</Row>\n            </Container>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\nfunction mapStoreToProps(state) {\n  return {\n    getOrders: state.ownerDetails.getOrdersRestaurant,\n    restaurant: state.ownerDetails.restaurantDetails\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(PastOrders);\n"]},"metadata":{},"sourceType":"module"}