{"ast":null,"code":"import axios from \"axios\";\nimport { rooturl } from \"../../config/constants\";\nexport function createUser(data, history) {\n  console.log(\"create user\");\n  return function (dispatch) {\n    axios.post(\"http://\" + rooturl + \":3001/user/createUser\", data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        history.push(\"/SignIn\");\n      }\n\n      dispatch({\n        type: \"CREATE_USERS\",\n        users: {}\n      });\n    });\n  };\n}\nexport function userLogin(data, history) {\n  console.log(\"user login\");\n  return function (dispatch) {\n    axios.defaults.withCredentials = true;\n    axios.post(\"http://\" + rooturl + \":3001/user/loginUser\", data).then(response => {\n      if (response.status === 200) {\n        localStorage.setItem(\"jwtToken\", response.data.token);\n        localStorage.setItem(\"userType\", response.data.userType);\n        localStorage.setItem(\"email\", data.email);\n        localStorage.setItem(\"password\", data.password);\n        history.push(\"/UserHome\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: true,\n            firstName: response.data.user[0].firstName,\n            email: data.email,\n            password: data.password\n          }\n        });\n      } else {\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: false\n          }\n        });\n      }\n    }).catch(error => {\n      console.log(\"in catch\");\n      console.log(error);\n      history.push(\"/SignIn\");\n      dispatch({\n        type: \"USER_LOGIN\",\n        payload: {\n          authflag: false\n        }\n      });\n    });\n  };\n}\nexport function getUserProfile(data) {\n  return function (dispatch) {\n    console.log(\"profile\");\n    console.log(data);\n    axios.get(\"http://\" + rooturl + \":3001/user/userdetails/\" + data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_PROFILE\",\n          payload: response.data[0]\n        });\n      }\n    });\n  };\n}\nexport function updateUserName(data) {\n  return function (dispatch) {\n    axios.put(\"http://\" + rooturl + \":3001/user/update/name\", data).then(response => {\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_NAME_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_NAME_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\nexport function updateUserEmail(data, history) {\n  return function (dispatch) {\n    axios.put(\"http://\" + rooturl + \":3001/user/update/email\", data).then(response => {\n      if (response.status === 200) {\n        localStorage.removeItem(\"email\");\n        localStorage.removeItem(\"password\");\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_EMAIL_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_EMAIL_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\nexport function updateUserPassword(data, history) {\n  return function (dispatch) {\n    axios.put(\"http://\" + rooturl + \":3001/user/update/password\", data).then(response => {\n      if (response.status === 200) {\n        localStorage.removeItem(\"email\");\n        localStorage.removeItem(\"password\");\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_PASSWORD_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_PASSWORD_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\nexport function ownerLogin(data, history) {\n  console.log(\"owner login\");\n  return function (dispatch) {\n    axios.defaults.withCredentials = true;\n    axios.post(\"http://\" + rooturl + \":3001/owner/login\", data).then(response => {\n      if (response.status === 200) {\n        console.log(\"200\");\n        console.log(data.email);\n        localStorage.setItem(\"jwtToken\", response.data.token);\n        localStorage.setItem(\"userType\", response.data.userType);\n        localStorage.setItem(\"email\", data.email);\n        localStorage.setItem(\"password\", data.password);\n        console.log(localStorage.getItem(\"email\"));\n        history.push(\"/OwnerHome\");\n        dispatch({\n          type: \"OWNER_LOGIN\",\n          payload: {\n            authflag: true,\n            firstName: response.data.user[0].firstName,\n            email: data.email,\n            password: data.password\n          }\n        });\n      } else {\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"OWNER_LOGIN\",\n          payload: {\n            authflag: false\n          }\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n      history.push(\"/SignIn\");\n      dispatch({\n        type: \"OWNER_LOGIN\",\n        payload: {\n          authflag: false\n        }\n      });\n    });\n  };\n}\nexport function getOwnerProfile(data) {\n  return function (dispatch) {\n    console.log(\"profile\");\n    console.log(data);\n    axios.get(\"http://\" + rooturl + \":3001/owner/details/\" + data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"OWNER_PROFILE\",\n          payload: response.data[0]\n        });\n      }\n    });\n  };\n}\nexport function updateUserAddress(data) {\n  return function (dispatch) {\n    axios.put(\"http://\" + rooturl + \":3001/user/update/address\", data).then(response => {\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_ADDRESS_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_ADDRESS_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\nexport function updateUserPhoneNo(data) {\n  return function (dispatch) {\n    axios.put(\"http://\" + rooturl + \":3001/user/update/phoneNo\", data).then(response => {\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_PHONE_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_PHONE_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    });\n  };\n}\nexport function uploadUserProfile(data, email) {\n  return function (dispatch) {\n    axios.post(\"http://\" + rooturl + \":3001/user/update/profilePhoto\", data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"USER_PROFILE_PIC_UPDATE\",\n          payload: \"Successfully Updated\"\n        });\n      } else {\n        dispatch({\n          type: \"USER_PROFILE_PIC_UPDATE\",\n          payload: \"Unable to Update\"\n        });\n      }\n    }).then(result => {\n      dispatch(getUserProfile(email));\n    });\n  };\n}\nexport function getOrderDetails(data) {\n  return function (dispatch) {\n    axios.get(\"http://\" + rooturl + \":3001/getUserOrders/\" + data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"ORDER_DETAILS\",\n          payload: response.data\n        });\n      } else {\n        dispatch({\n          type: \"ORDER_DETAILS\",\n          payload: \"Unable to Update\"\n        });\n      }\n    }).catch(err => {\n      dispatch({\n        type: \"ORDER_DETAILS\",\n        payload: err\n      });\n    });\n  };\n}\nexport function getItemDetails(data) {\n  return function (dispatch) {\n    axios.get(\"http://localhost:3001/user/getItems/\" + data).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"ITEM_DETAILS\",\n          payload: response.data\n        });\n      } else {\n        dispatch({\n          type: \"ITEM_DETAILS\",\n          payload: \"Unable to Update\"\n        });\n      }\n    }).catch(err => {\n      dispatch({\n        type: \"ITEM_DETAILS\",\n        payload: err\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/js/actions/index.js"],"names":["axios","rooturl","createUser","data","history","console","log","dispatch","post","then","response","status","push","type","users","userLogin","defaults","withCredentials","localStorage","setItem","token","userType","email","password","payload","authflag","firstName","user","catch","error","getUserProfile","get","updateUserName","put","updateUserEmail","removeItem","updateUserPassword","ownerLogin","getItem","getOwnerProfile","updateUserAddress","updateUserPhoneNo","uploadUserProfile","result","getOrderDetails","err","getItemDetails"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { rooturl } from \"../../config/constants\";\n\nexport function createUser(data, history) {\n  console.log(\"create user\");\n  return function(dispatch) {\n    axios\n      .post(\"http://\" + rooturl + \":3001/user/createUser\", data)\n      .then(response => {\n        console.log(response);\n        if (response.status === 200) {\n          history.push(\"/SignIn\");\n        }\n        dispatch({\n          type: \"CREATE_USERS\",\n          users: {}\n        });\n      });\n  };\n}\n\nexport function userLogin(data, history) {\n  console.log(\"user login\");\n  return function(dispatch) {\n    axios.defaults.withCredentials = true;\n    axios\n      .post(\"http://\" + rooturl + \":3001/user/loginUser\", data)\n      .then(response => {\n        if (response.status === 200) {\n          localStorage.setItem(\"jwtToken\", response.data.token);\n          localStorage.setItem(\"userType\", response.data.userType);\n          localStorage.setItem(\"email\", data.email);\n          localStorage.setItem(\"password\", data.password);\n          history.push(\"/UserHome\");\n          dispatch({\n            type: \"USER_LOGIN\",\n            payload: {\n              authflag: true,\n              firstName: response.data.user[0].firstName,\n              email: data.email,\n              password: data.password\n            }\n          });\n        } else {\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"USER_LOGIN\",\n            payload: {\n              authflag: false\n            }\n          });\n        }\n      })\n      .catch(error => {\n        console.log(\"in catch\");\n        console.log(error);\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"USER_LOGIN\",\n          payload: {\n            authflag: false\n          }\n        });\n      });\n  };\n}\n\nexport function getUserProfile(data) {\n  return function(dispatch) {\n    console.log(\"profile\");\n    console.log(data);\n    axios\n      .get(\"http://\" + rooturl + \":3001/user/userdetails/\" + data)\n      .then(response => {\n        console.log(response);\n        if (response.status === 200) {\n          dispatch({\n            type: \"USER_PROFILE\",\n            payload: response.data[0]\n          });\n        }\n      });\n  };\n}\n\nexport function updateUserName(data) {\n  return function(dispatch) {\n    axios\n      .put(\"http://\" + rooturl + \":3001/user/update/name\", data)\n      .then(response => {\n        if (response.status === 200) {\n          dispatch({\n            type: \"USER_NAME_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_NAME_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      });\n  };\n}\n\nexport function updateUserEmail(data, history) {\n  return function(dispatch) {\n    axios\n      .put(\"http://\" + rooturl + \":3001/user/update/email\", data)\n      .then(response => {\n        if (response.status === 200) {\n          localStorage.removeItem(\"email\");\n          localStorage.removeItem(\"password\");\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"USER_EMAIL_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_EMAIL_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      });\n  };\n}\nexport function updateUserPassword(data, history) {\n  return function(dispatch) {\n    axios\n      .put(\"http://\" + rooturl + \":3001/user/update/password\", data)\n      .then(response => {\n        if (response.status === 200) {\n          localStorage.removeItem(\"email\");\n          localStorage.removeItem(\"password\");\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"USER_PASSWORD_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_PASSWORD_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      });\n  };\n}\n\nexport function ownerLogin(data, history) {\n  console.log(\"owner login\");\n  return function(dispatch) {\n    axios.defaults.withCredentials = true;\n    axios\n      .post(\"http://\" + rooturl + \":3001/owner/login\", data)\n      .then(response => {\n        if (response.status === 200) {\n          console.log(\"200\");\n          console.log(data.email);\n          localStorage.setItem(\"jwtToken\", response.data.token);\n          localStorage.setItem(\"userType\", response.data.userType);\n          localStorage.setItem(\"email\", data.email);\n          localStorage.setItem(\"password\", data.password);\n          console.log(localStorage.getItem(\"email\"));\n          history.push(\"/OwnerHome\");\n          dispatch({\n            type: \"OWNER_LOGIN\",\n            payload: {\n              authflag: true,\n              firstName: response.data.user[0].firstName,\n              email: data.email,\n              password: data.password\n            }\n          });\n        } else {\n          history.push(\"/SignIn\");\n          dispatch({\n            type: \"OWNER_LOGIN\",\n            payload: {\n              authflag: false\n            }\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        history.push(\"/SignIn\");\n        dispatch({\n          type: \"OWNER_LOGIN\",\n          payload: {\n            authflag: false\n          }\n        });\n      });\n  };\n}\n\nexport function getOwnerProfile(data) {\n  return function(dispatch) {\n    console.log(\"profile\");\n    console.log(data);\n    axios\n      .get(\"http://\" + rooturl + \":3001/owner/details/\" + data)\n      .then(response => {\n        console.log(response);\n        if (response.status === 200) {\n          dispatch({\n            type: \"OWNER_PROFILE\",\n            payload: response.data[0]\n          });\n        }\n      });\n  };\n}\n\nexport function updateUserAddress(data) {\n  return function(dispatch) {\n    axios\n      .put(\"http://\" + rooturl + \":3001/user/update/address\", data)\n      .then(response => {\n        if (response.status === 200) {\n          dispatch({\n            type: \"USER_ADDRESS_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_ADDRESS_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      });\n  };\n}\n\nexport function updateUserPhoneNo(data) {\n  return function(dispatch) {\n    axios\n      .put(\"http://\" + rooturl + \":3001/user/update/phoneNo\", data)\n      .then(response => {\n        if (response.status === 200) {\n          dispatch({\n            type: \"USER_PHONE_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_PHONE_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      });\n  };\n}\n\nexport function uploadUserProfile(data, email) {\n  return function(dispatch) {\n    axios\n      .post(\"http://\" + rooturl + \":3001/user/update/profilePhoto\", data)\n      .then(response => {\n        console.log(response);\n        if (response.status === 200) {\n          dispatch({\n            type: \"USER_PROFILE_PIC_UPDATE\",\n            payload: \"Successfully Updated\"\n          });\n        } else {\n          dispatch({\n            type: \"USER_PROFILE_PIC_UPDATE\",\n            payload: \"Unable to Update\"\n          });\n        }\n      })\n      .then(result => {\n        dispatch(getUserProfile(email));\n      });\n  };\n}\n\nexport function getOrderDetails(data) {\n  return function(dispatch) {\n    axios\n      .get(\"http://\" + rooturl + \":3001/getUserOrders/\" + data)\n      .then(response => {\n        console.log(response);\n        if (response.status === 200) {\n          dispatch({\n            type: \"ORDER_DETAILS\",\n            payload: response.data\n          });\n        } else {\n          dispatch({\n            type: \"ORDER_DETAILS\",\n            payload: \"Unable to Update\"\n          });\n        }\n      })\n      .catch(err => {\n        dispatch({\n          type: \"ORDER_DETAILS\",\n          payload: err\n        });\n      });\n  };\n}\nexport function getItemDetails(data) {\n  return function(dispatch) {\n    axios\n      .get(\"http://localhost:3001/user/getItems/\" + data)\n      .then(response => {\n        console.log(response);\n        if (response.status === 200) {\n          dispatch({\n            type: \"ITEM_DETAILS\",\n            payload: response.data\n          });\n        } else {\n          dispatch({\n            type: \"ITEM_DETAILS\",\n            payload: \"Unable to Update\"\n          });\n        }\n      })\n      .catch(err => {\n        dispatch({\n          type: \"ITEM_DETAILS\",\n          payload: err\n        });\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}