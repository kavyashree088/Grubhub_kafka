{"ast":null,"code":"var _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/components/Owner/Menu.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Container, Button, Table, Modal } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\nimport cookie from \"react-cookies\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\n\nclass Menu extends Component {\n  constructor(props) {\n    super();\n\n    this.addItemFlag = () => {\n      this.setState({\n        isAddItem: true\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.validateAddItem = () => {\n      this.setState({\n        nameError: \"\",\n        priceError: \"\",\n        descError: \"\",\n        sectionError: \"\"\n      });\n      let flag = true;\n\n      if (this.state.itemName.trim().length === 0) {\n        this.setState({\n          nameError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      if (this.state.desc.trim().length === 0) {\n        this.setState({\n          descError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      if (this.state.price.trim().length === 0) {\n        this.setState({\n          priceError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      if (this.state.section === \"\" || this.state.section === \"--select--\") {\n        this.setState({\n          sectionError: \"*Required\"\n        });\n        flag = false;\n      }\n\n      return flag;\n    };\n\n    this.addItem = () => {\n      if (this.validateAddItem()) {\n        let data = {\n          name: this.state.itemName,\n          desc: this.state.desc,\n          price: this.state.price,\n          section: this.state.section,\n          restaurantId: this.props.restaurant[0].id\n        };\n        this.props.addMenuItem(data);\n      }\n    };\n\n    this.cancel = () => {\n      this.setState({\n        isAddItem: false\n      });\n    };\n\n    this.update = event => {\n      console.log(event.target.value);\n      const item = this.props.menus.find(menu => menu.name === event.target.value);\n      console.log(item);\n      this.setState({\n        modal: {\n          show: true,\n          itemName: item.name,\n          price: item.price,\n          section: item.section,\n          desc: item.description\n        }\n      });\n    };\n\n    this.handleClose = event => {\n      this.setState({\n        modal: {\n          show: false\n        }\n      });\n    };\n\n    this.handleModalNameChange = event => {\n      this.setState({\n        modal: {\n          itemName: event.target.value\n        }\n      });\n    };\n\n    this.updateMenu = () => {};\n\n    this.state = {\n      isAddItem: false,\n      itemName: \"\",\n      price: \"\",\n      section: \"\",\n      desc: \"\",\n      nameError: \"\",\n      priceError: \"\",\n      descError: \"\",\n      sectionError: \"\",\n      modal: {\n        show: false,\n        itemName: \"\",\n        price: \"\",\n        section: \"\",\n        desc: \"\",\n        nameError: \"\",\n        priceError: \"\",\n        descError: \"\",\n        sectionError: \"\"\n      }\n    };\n  }\n\n  async componentWillMount() {\n    if (!cookie.load(\"cookie\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n\n    await this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newRes = nextProps.restaurant;\n    console.log(\"here\");\n    console.log(newRes);\n\n    if (newRes !== this.props.restaurant) {\n      this.props.getMenu(newRes[0].id);\n    }\n  }\n\n  render() {\n    let menulist = this.props.menus.map(menu => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, menu.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, menu.description), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, menu.image), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, menu.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, menu.section), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Button, {\n      value: menu.name,\n      onClick: this.update,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Update\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Button, {\n      value: menu,\n      onClick: this.delete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Delete\"))));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Your Account\")), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"#\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Menu\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Past Orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"pt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Manage Restaurant Menu\"), React.createElement(Button, {\n      onClick: this.addItemFlag,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Add Item\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, this.state.isAddItem ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Item Name\"), React.createElement(Form.Control, {\n      name: \"itemName\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, this.state.nameError))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Item Description\"), React.createElement(Form.Control, {\n      name: \"desc\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, this.state.descError))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Price\"), React.createElement(Form.Control, {\n      name: \"price\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, this.state.priceError))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Section\"), React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"section\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      defaultChecked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"--select--\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Breakfast\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"Lunch\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Appetizers\")), React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"red\"\n      },\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, this.state.sectionError)))), React.createElement(Button, {\n      onClick: this.addItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"ADD\"), React.createElement(Button, {\n      variant: \"outline-secondary\",\n      onClick: this.cancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"Cancel\"))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }), React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Section\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, menulist)), React.createElement(Modal, {\n      show: this.state.modal.show,\n      onHide: this.handleClose,\n      size: \"lg\",\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Update Item\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Item Name\"), React.createElement(Form.Control, {\n      name: \"itemName\",\n      defaultValue: this.state.modal.itemName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Description\"), React.createElement(Form.Control, {\n      name: \"itemName\",\n      defaultValue: this.state.modal.desc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"Price\"), React.createElement(Form.Control, {\n      name: \"itemName\",\n      defaultValue: this.state.modal.price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"Section\"), React.createElement(Form.Control, {\n      as: \"select\",\n      name: \"section\",\n      onChange: this.handleChange,\n      defaultValue: this.state.modal.section,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      defaultChecked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \"--select--\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Breakfast\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"Lunch\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Appetizers\"))))))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, \"Close\"), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"Update\")))))))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    restaurant: state.ownerDetails.restaurantDetails,\n    menus: state.ownerDetails.menu\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(Menu);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/components/Owner/Menu.js"],"names":["React","Component","Navigation","connect","Row","Col","Container","Button","Table","Modal","Form","cookie","actionCreators","Menu","constructor","props","addItemFlag","setState","isAddItem","handleChange","event","target","name","value","validateAddItem","nameError","priceError","descError","sectionError","flag","state","itemName","trim","length","desc","price","section","addItem","data","restaurantId","restaurant","id","addMenuItem","cancel","update","console","log","item","menus","find","menu","modal","show","description","handleClose","handleModalNameChange","updateMenu","componentWillMount","load","localStorage","removeItem","history","push","getRestaurantDetails","getItem","componentWillReceiveProps","nextProps","newRes","getMenu","render","menulist","map","image","delete","fontSize","color","mapStoreToProps","ownerDetails","restaurantDetails"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,WAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,EAA8BC,MAA9B,EAAsCC,KAAtC,EAA6CC,KAA7C,QAA0D,iBAA1D;AACA,OAAO,uBAAP;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAO,KAAKC,cAAZ,MAAgC,+BAAhC;;AAEA,MAAMC,IAAN,SAAmBZ,SAAnB,CAA6B;AAC3Ba,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB;;AADiB,SAyCnBC,WAzCmB,GAyCL,MAAM;AAClB,WAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KA7CkB;;AAAA,SA+CnBC,YA/CmB,GA+CJC,KAAK,IAAI;AACtB,WAAKH,QAAL,CAAc;AAAE,SAACG,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAApC,OAAd;AACD,KAjDkB;;AAAA,SAmDnBC,eAnDmB,GAmDD,MAAM;AACtB,WAAKP,QAAL,CAAc;AACZQ,QAAAA,SAAS,EAAE,EADC;AAEZC,QAAAA,UAAU,EAAE,EAFA;AAGZC,QAAAA,SAAS,EAAE,EAHC;AAIZC,QAAAA,YAAY,EAAE;AAJF,OAAd;AAMA,UAAIC,IAAI,GAAG,IAAX;;AACA,UAAI,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,IAApB,GAA2BC,MAA3B,KAAsC,CAA1C,EAA6C;AAC3C,aAAKhB,QAAL,CAAc;AACZQ,UAAAA,SAAS,EAAE;AADC,SAAd;AAGAI,QAAAA,IAAI,GAAG,KAAP;AACD;;AACD,UAAI,KAAKC,KAAL,CAAWI,IAAX,CAAgBF,IAAhB,GAAuBC,MAAvB,KAAkC,CAAtC,EAAyC;AACvC,aAAKhB,QAAL,CAAc;AACZU,UAAAA,SAAS,EAAE;AADC,SAAd;AAGAE,QAAAA,IAAI,GAAG,KAAP;AACD;;AACD,UAAI,KAAKC,KAAL,CAAWK,KAAX,CAAiBH,IAAjB,GAAwBC,MAAxB,KAAmC,CAAvC,EAA0C;AACxC,aAAKhB,QAAL,CAAc;AACZS,UAAAA,UAAU,EAAE;AADA,SAAd;AAGAG,QAAAA,IAAI,GAAG,KAAP;AACD;;AACD,UAAI,KAAKC,KAAL,CAAWM,OAAX,KAAuB,EAAvB,IAA6B,KAAKN,KAAL,CAAWM,OAAX,KAAuB,YAAxD,EAAsE;AACpE,aAAKnB,QAAL,CAAc;AACZW,UAAAA,YAAY,EAAE;AADF,SAAd;AAGAC,QAAAA,IAAI,GAAG,KAAP;AACD;;AACD,aAAOA,IAAP;AACD,KApFkB;;AAAA,SAqFnBQ,OArFmB,GAqFT,MAAM;AACd,UAAI,KAAKb,eAAL,EAAJ,EAA4B;AAC1B,YAAIc,IAAI,GAAG;AACThB,UAAAA,IAAI,EAAE,KAAKQ,KAAL,CAAWC,QADR;AAETG,UAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWI,IAFR;AAGTC,UAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWK,KAHT;AAITC,UAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OAJX;AAKTG,UAAAA,YAAY,EAAE,KAAKxB,KAAL,CAAWyB,UAAX,CAAsB,CAAtB,EAAyBC;AAL9B,SAAX;AAOA,aAAK1B,KAAL,CAAW2B,WAAX,CAAuBJ,IAAvB;AACD;AACF,KAhGkB;;AAAA,SAiGnBK,MAjGmB,GAiGV,MAAM;AACb,WAAK1B,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KArGkB;;AAAA,SAsGnB0B,MAtGmB,GAsGVxB,KAAK,IAAI;AAChByB,MAAAA,OAAO,CAACC,GAAR,CAAY1B,KAAK,CAACC,MAAN,CAAaE,KAAzB;AACA,YAAMwB,IAAI,GAAG,KAAKhC,KAAL,CAAWiC,KAAX,CAAiBC,IAAjB,CACXC,IAAI,IAAIA,IAAI,CAAC5B,IAAL,KAAcF,KAAK,CAACC,MAAN,CAAaE,KADxB,CAAb;AAGAsB,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AAEA,WAAK9B,QAAL,CAAc;AACZkC,QAAAA,KAAK,EAAE;AACLC,UAAAA,IAAI,EAAE,IADD;AAELrB,UAAAA,QAAQ,EAAEgB,IAAI,CAACzB,IAFV;AAGLa,UAAAA,KAAK,EAAEY,IAAI,CAACZ,KAHP;AAILC,UAAAA,OAAO,EAAEW,IAAI,CAACX,OAJT;AAKLF,UAAAA,IAAI,EAAEa,IAAI,CAACM;AALN;AADK,OAAd;AASD,KAtHkB;;AAAA,SAuHnBC,WAvHmB,GAuHLlC,KAAK,IAAI;AACrB,WAAKH,QAAL,CAAc;AACZkC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AADK,OAAd;AAGD,KA3HkB;;AAAA,SA4HnBG,qBA5HmB,GA4HKnC,KAAK,IAAI;AAC/B,WAAKH,QAAL,CAAc;AACZkC,QAAAA,KAAK,EAAE;AACLpB,UAAAA,QAAQ,EAAEX,KAAK,CAACC,MAAN,CAAaE;AADlB;AADK,OAAd;AAKD,KAlIkB;;AAAA,SAmInBiC,UAnImB,GAmIN,MAAM,CAAE,CAnIF;;AAEjB,SAAK1B,KAAL,GAAa;AACXZ,MAAAA,SAAS,EAAE,KADA;AAEXa,MAAAA,QAAQ,EAAE,EAFC;AAGXI,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,OAAO,EAAE,EAJE;AAKXF,MAAAA,IAAI,EAAE,EALK;AAMXT,MAAAA,SAAS,EAAE,EANA;AAOXC,MAAAA,UAAU,EAAE,EAPD;AAQXC,MAAAA,SAAS,EAAE,EARA;AASXC,MAAAA,YAAY,EAAE,EATH;AAUXuB,MAAAA,KAAK,EAAE;AACLC,QAAAA,IAAI,EAAE,KADD;AAELrB,QAAAA,QAAQ,EAAE,EAFL;AAGLI,QAAAA,KAAK,EAAE,EAHF;AAILC,QAAAA,OAAO,EAAE,EAJJ;AAKLF,QAAAA,IAAI,EAAE,EALD;AAMLT,QAAAA,SAAS,EAAE,EANN;AAOLC,QAAAA,UAAU,EAAE,EAPP;AAQLC,QAAAA,SAAS,EAAE,EARN;AASLC,QAAAA,YAAY,EAAE;AATT;AAVI,KAAb;AAsBD;;AACD,QAAM6B,kBAAN,GAA2B;AACzB,QAAI,CAAC9C,MAAM,CAAC+C,IAAP,CAAY,QAAZ,CAAL,EAA4B;AAC1BC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACA,WAAK7C,KAAL,CAAW8C,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD;;AACD,UAAM,KAAK/C,KAAL,CAAWgD,oBAAX,CAAgCJ,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAhC,CAAN;AACD;;AACDC,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACnC,UAAMC,MAAM,GAAGD,SAAS,CAAC1B,UAAzB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYqB,MAAZ;;AACA,QAAIA,MAAM,KAAK,KAAKpD,KAAL,CAAWyB,UAA1B,EAAsC;AACpC,WAAKzB,KAAL,CAAWqD,OAAX,CAAmBD,MAAM,CAAC,CAAD,CAAN,CAAU1B,EAA7B;AACD;AACF;;AA4FD4B,EAAAA,MAAM,GAAG;AACP,QAAIC,QAAQ,GAAG,KAAKvD,KAAL,CAAWiC,KAAX,CAAiBuB,GAAjB,CAAqBrB,IAAI,IACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,IAAI,CAAC5B,IAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK4B,IAAI,CAACG,WAAV,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAI,CAACsB,KAAV,CAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKtB,IAAI,CAACf,KAAV,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKe,IAAI,CAACd,OAAV,CALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAEc,IAAI,CAAC5B,IAApB;AAA0B,MAAA,OAAO,EAAE,KAAKsB,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CANF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAEM,IAAf;AAAqB,MAAA,OAAO,EAAE,KAAKuB,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAXF,CADa,CAAf;AAmBA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,EAIE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,EAKE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,EAQE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,EASE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBATF,CADF,CADF,EAcE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAEE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKzD,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKc,KAAL,CAAWZ,SAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,QAAQ,EAAE,KAAKC,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAME;AACE,MAAA,KAAK,EAAE;AAAEuD,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OADT;AAEE,MAAA,SAAS,EAAC,aAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,KAAK7C,KAAL,CAAWL,SAJd,CANF,CADF,CADF,EAgBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,QAAQ,EAAE,KAAKN,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAME;AACE,MAAA,KAAK,EAAE;AAAEuD,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OADT;AAEE,MAAA,SAAS,EAAC,aAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,KAAK7C,KAAL,CAAWH,SAJd,CANF,CADF,CAhBF,EAgCE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,QAAQ,EAAE,KAAKR,YAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAME;AACE,MAAA,KAAK,EAAE;AAAEuD,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OADT;AAEE,MAAA,SAAS,EAAC,aAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,KAAK7C,KAAL,CAAWJ,UAJd,CANF,CADF,CAhCF,EA+CE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,EAAE,EAAC,QADL;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,QAAQ,EAAE,KAAKP,YAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAQ,MAAA,cAAc,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF,CAFF,EAYE;AACE,MAAA,KAAK,EAAE;AAAEuD,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OADT;AAEE,MAAA,SAAS,EAAC,aAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,KAAK7C,KAAL,CAAWF,YAJd,CAZF,CADF,CA/CF,CADF,EAsEE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKS,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAtEF,EAuEE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,mBADV;AAEE,MAAA,OAAO,EAAE,KAAKM,MAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvEF,CADF,CADD,GAkFC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnFJ,EAqFE,oBAAC,KAAD;AAAO,MAAA,OAAO,MAAd;AAAe,MAAA,QAAQ,MAAvB;AAAwB,MAAA,KAAK,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CADF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQ2B,QAAR,CAZF,CArFF,EAmGE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAE,KAAKxC,KAAL,CAAWqB,KAAX,CAAiBC,IADzB;AAEE,MAAA,MAAM,EAAE,KAAKE,WAFf;AAGE,MAAA,IAAI,EAAC,IAHP;AAIE,yBAAgB,+BAJlB;AAKE,MAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CAPF,EAUE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,YAAY,EAAE,KAAKxB,KAAL,CAAWqB,KAAX,CAAiBpB,QAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF,EAUE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,YAAY,EAAE,KAAKD,KAAL,CAAWqB,KAAX,CAAiBjB,IAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CAVF,EAmBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,YAAY,EAAE,KAAKJ,KAAL,CAAWqB,KAAX,CAAiBhB,KAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CAnBF,EA4BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,EAAE,EAAC,QADL;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,QAAQ,EAAE,KAAKhB,YAHjB;AAIE,MAAA,YAAY,EAAE,KAAKW,KAAL,CAAWqB,KAAX,CAAiBf,OAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME;AAAQ,MAAA,cAAc,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATF,CAFF,CADF,CA5BF,CADF,CADF,CAVF,EA2DE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,OAAO,EAAE,KAAKkB,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAIE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAE,KAAKA,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,CA3DF,CAnGF,CAHF,CADF,CAdF,CADF,CAFF,CADF;AAoMD;;AA7V0B;;AA+V7B,SAASsB,eAAT,CAAyB9C,KAAzB,EAAgC;AAC9B,SAAO;AACLU,IAAAA,UAAU,EAAEV,KAAK,CAAC+C,YAAN,CAAmBC,iBAD1B;AAEL9B,IAAAA,KAAK,EAAElB,KAAK,CAAC+C,YAAN,CAAmB3B;AAFrB,GAAP;AAID;;AACD,eAAe/C,OAAO,CACpByE,eADoB,EAEpBhE,cAFoB,CAAP,CAGbC,IAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Container, Button, Table, Modal } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\nimport cookie from \"react-cookies\";\nimport * as actionCreators from \"../../js/actions/ownerActions\";\n\nclass Menu extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      isAddItem: false,\n      itemName: \"\",\n      price: \"\",\n      section: \"\",\n      desc: \"\",\n      nameError: \"\",\n      priceError: \"\",\n      descError: \"\",\n      sectionError: \"\",\n      modal: {\n        show: false,\n        itemName: \"\",\n        price: \"\",\n        section: \"\",\n        desc: \"\",\n        nameError: \"\",\n        priceError: \"\",\n        descError: \"\",\n        sectionError: \"\"\n      }\n    };\n  }\n  async componentWillMount() {\n    if (!cookie.load(\"cookie\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n    await this.props.getRestaurantDetails(localStorage.getItem(\"email\"));\n  }\n  componentWillReceiveProps(nextProps) {\n    const newRes = nextProps.restaurant;\n    console.log(\"here\");\n    console.log(newRes);\n    if (newRes !== this.props.restaurant) {\n      this.props.getMenu(newRes[0].id);\n    }\n  }\n  addItemFlag = () => {\n    this.setState({\n      isAddItem: true\n    });\n  };\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  validateAddItem = () => {\n    this.setState({\n      nameError: \"\",\n      priceError: \"\",\n      descError: \"\",\n      sectionError: \"\"\n    });\n    let flag = true;\n    if (this.state.itemName.trim().length === 0) {\n      this.setState({\n        nameError: \"*Required\"\n      });\n      flag = false;\n    }\n    if (this.state.desc.trim().length === 0) {\n      this.setState({\n        descError: \"*Required\"\n      });\n      flag = false;\n    }\n    if (this.state.price.trim().length === 0) {\n      this.setState({\n        priceError: \"*Required\"\n      });\n      flag = false;\n    }\n    if (this.state.section === \"\" || this.state.section === \"--select--\") {\n      this.setState({\n        sectionError: \"*Required\"\n      });\n      flag = false;\n    }\n    return flag;\n  };\n  addItem = () => {\n    if (this.validateAddItem()) {\n      let data = {\n        name: this.state.itemName,\n        desc: this.state.desc,\n        price: this.state.price,\n        section: this.state.section,\n        restaurantId: this.props.restaurant[0].id\n      };\n      this.props.addMenuItem(data);\n    }\n  };\n  cancel = () => {\n    this.setState({\n      isAddItem: false\n    });\n  };\n  update = event => {\n    console.log(event.target.value);\n    const item = this.props.menus.find(\n      menu => menu.name === event.target.value\n    );\n    console.log(item);\n\n    this.setState({\n      modal: {\n        show: true,\n        itemName: item.name,\n        price: item.price,\n        section: item.section,\n        desc: item.description\n      }\n    });\n  };\n  handleClose = event => {\n    this.setState({\n      modal: { show: false }\n    });\n  };\n  handleModalNameChange = event => {\n    this.setState({\n      modal: {\n        itemName: event.target.value\n      }\n    });\n  };\n  updateMenu = () => {};\n  render() {\n    let menulist = this.props.menus.map(menu => (\n      <tr>\n        <td>{menu.name}</td>\n        <td>{menu.description}</td>\n        <td>{menu.image}</td>\n        <td>{menu.price}</td>\n        <td>{menu.section}</td>\n        <td>\n          <Button value={menu.name} onClick={this.update}>\n            Update\n          </Button>\n        </td>\n        <td>\n          <Button value={menu} onClick={this.delete}>\n            Delete\n          </Button>\n        </td>\n      </tr>\n    ));\n    return (\n      <div>\n        <Navigation></Navigation>\n        <div>\n          <Row>\n            <Col className=\"col-sm-3\">\n              <div className=\"vertical-menu bg-light\">\n                <a href=\"#\" className=\"header\">\n                  <h2>Your Account</h2>\n                </a>\n                <a href=\"#\">Home</a>\n                <a href=\"#\" className=\"active\">\n                  Menu\n                </a>\n                <a href=\"#\">Profile</a>\n                <a href=\"#\">Past Orders</a>\n              </div>\n            </Col>\n            <Col className=\"col-sm-9\">\n              <Container>\n                <h3 className=\"pt-5\">Manage Restaurant Menu</h3>\n                <Button onClick={this.addItemFlag}>Add Item</Button>\n                <div>\n                  {this.state.isAddItem ? (\n                    <div>\n                      <Form>\n                        <Row>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Item Name</Form.Label>\n                              <Form.Control\n                                name=\"itemName\"\n                                onChange={this.handleChange}\n                              ></Form.Control>\n                              <div\n                                style={{ fontSize: 12, color: \"red\" }}\n                                className=\"text-center\"\n                              >\n                                {this.state.nameError}\n                              </div>\n                            </Form.Group>\n                          </Col>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Item Description</Form.Label>\n                              <Form.Control\n                                name=\"desc\"\n                                onChange={this.handleChange}\n                              ></Form.Control>\n                              <div\n                                style={{ fontSize: 12, color: \"red\" }}\n                                className=\"text-center\"\n                              >\n                                {this.state.descError}\n                              </div>\n                            </Form.Group>\n                          </Col>\n\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Price</Form.Label>\n                              <Form.Control\n                                name=\"price\"\n                                onChange={this.handleChange}\n                              ></Form.Control>\n                              <div\n                                style={{ fontSize: 12, color: \"red\" }}\n                                className=\"text-center\"\n                              >\n                                {this.state.priceError}\n                              </div>\n                            </Form.Group>\n                          </Col>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Section</Form.Label>\n                              <Form.Control\n                                as=\"select\"\n                                name=\"section\"\n                                onChange={this.handleChange}\n                              >\n                                <option defaultChecked>--select--</option>\n                                <option>Breakfast</option>\n                                <option>Lunch</option>\n                                <option>Appetizers</option>\n                              </Form.Control>\n                              <div\n                                style={{ fontSize: 12, color: \"red\" }}\n                                className=\"text-center\"\n                              >\n                                {this.state.sectionError}\n                              </div>\n                            </Form.Group>\n                          </Col>\n                        </Row>\n                        <Button onClick={this.addItem}>ADD</Button>\n                        <Button\n                          variant=\"outline-secondary\"\n                          onClick={this.cancel}\n                        >\n                          Cancel\n                        </Button>\n                      </Form>\n                    </div>\n                  ) : (\n                    <div></div>\n                  )}\n                  <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>Name</th>\n                        <th>Description</th>\n                        <th>Image</th>\n                        <th>Price</th>\n                        <th>Section</th>\n                        <th></th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>{menulist}</tbody>\n                  </Table>\n                  <Modal\n                    show={this.state.modal.show}\n                    onHide={this.handleClose}\n                    size=\"lg\"\n                    aria-labelledby=\"contained-modal-title-vcenter\"\n                    centered\n                  >\n                    <Modal.Header closeButton>\n                      <Modal.Title>Update Item</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                      <Form>\n                        <Row>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Item Name</Form.Label>\n                              <Form.Control\n                                name=\"itemName\"\n                                defaultValue={this.state.modal.itemName}\n                              ></Form.Control>\n                            </Form.Group>\n                          </Col>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Description</Form.Label>\n                              <Form.Control\n                                name=\"itemName\"\n                                defaultValue={this.state.modal.desc}\n                              ></Form.Control>\n                            </Form.Group>\n                          </Col>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Price</Form.Label>\n                              <Form.Control\n                                name=\"itemName\"\n                                defaultValue={this.state.modal.price}\n                              ></Form.Control>\n                            </Form.Group>\n                          </Col>\n                          <Col>\n                            <Form.Group>\n                              <Form.Label>Section</Form.Label>\n                              <Form.Control\n                                as=\"select\"\n                                name=\"section\"\n                                onChange={this.handleChange}\n                                defaultValue={this.state.modal.section}\n                              >\n                                <option defaultChecked>--select--</option>\n                                <option>Breakfast</option>\n                                <option>Lunch</option>\n                                <option>Appetizers</option>\n                              </Form.Control>\n                            </Form.Group>\n                          </Col>\n                        </Row>\n                      </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                      <Button variant=\"secondary\" onClick={this.handleClose}>\n                        Close\n                      </Button>\n                      <Button variant=\"primary\" onClick={this.handleClose}>\n                        Update\n                      </Button>\n                    </Modal.Footer>\n                  </Modal>\n                </div>\n              </Container>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStoreToProps(state) {\n  return {\n    restaurant: state.ownerDetails.restaurantDetails,\n    menus: state.ownerDetails.menu\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(Menu);\n"]},"metadata":{},"sourceType":"module"}