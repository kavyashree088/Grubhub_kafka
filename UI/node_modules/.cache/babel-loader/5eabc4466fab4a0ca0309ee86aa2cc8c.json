{"ast":null,"code":"var _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/components/User/UserProfile.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/index\";\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super();\n\n    this.handleNameEdit = event => {\n      this.setState({\n        isNameEditable: true\n      });\n    };\n\n    this.handleEmailEdit = event => {\n      this.setState({\n        isEmailEditable: true\n      });\n    };\n\n    this.handlePasswordEdit = event => {\n      this.setState({\n        isPasswordEditable: true\n      });\n    };\n\n    this.handleEmailCancel = event => {\n      this.setState({\n        isEmailEditable: false\n      });\n    };\n\n    this.handlePasswordCancel = event => {\n      this.setState({\n        isPasswordEditable: false\n      });\n    };\n\n    this.handleNameCancel = event => {\n      this.setState({\n        isNameEditable: false\n      });\n    };\n\n    this.updateName = () => {\n      let fName = \"\";\n\n      if (this.state.firstName.length === 0) {\n        fName = this.props.profile.firstName;\n      } else {\n        fName = this.state.firstName;\n      }\n\n      let lName = \"\";\n\n      if (this.state.lastName.length === 0) {\n        lName = this.props.profile.lastName;\n      } else {\n        lName = this.state.firstName;\n      }\n\n      let data = {\n        email: localStorage.getItem(\"email\"),\n        firstName: fName,\n        lastName: lName\n      };\n      this.props.updateUserName(data);\n      this.setState({\n        isNameEditable: false\n      });\n    };\n\n    this.validateEmail = () => {\n      this.setState({\n        newEmailError: \"\",\n        confirmEmailError: \"\"\n      });\n      let flag = true;\n\n      if (this.state.newEmail.trim().length === 0) {\n        this.setState({\n          newEmailError: \"*Required\"\n        });\n        flag = false;\n      } else if (!this.state.newEmail.includes(\"@\") || !this.state.newEmail.includes(\".\")) {\n        this.setState({\n          newEmailError: \"Inavalid email\"\n        });\n        flag = false;\n      }\n\n      if (this.state.confirmEmail.trim().length === 0) {\n        this.setState({\n          confirmEmailError: \"*Required\"\n        });\n        flag = false;\n      } else if (this.state.newEmail !== this.state.confirmEmail) {\n        this.setState({\n          confirmEmailError: \"Confirm new email does not match\"\n        });\n        flag = false;\n      }\n\n      return flag;\n    };\n\n    this.updateEmail = () => {\n      if (validateEmail()) {\n        let data = {\n          email: localStorage.getItem(\"email\"),\n          newEmail: this.state.newEmail\n        };\n      }\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      isNameEditable: false,\n      isEmailEditable: false,\n      isPasswordEditable: false,\n      firstName: \"\",\n      lastName: \"\",\n      newEmail: \"\",\n      confirmEmail: \"\",\n      newEmailError: \"\",\n      confirmEmailError: \"\"\n    };\n  }\n\n  componentWillMount() {\n    this.props.getUserProfile(localStorage.getItem(\"email\"));\n    console.log(this.props.profile);\n  }\n\n  render() {\n    let nameEdit = null;\n\n    if (this.state.isNameEditable) {\n      nameEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Edit Name\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(Form.Control, {\n        name: \"firstName\",\n        onChange: this.handleChange,\n        defaultValue: this.props.profile.firstName || \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(Form.Control, {\n        name: \"lastName\",\n        onChange: this.handleChange,\n        defaultValue: this.props.profile.lastName || \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.updateName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Update Name\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleNameCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }));\n    } else {\n      nameEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Name\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, this.props.profile.firstName || \"\", \" \", this.props.profile.lastName || \"\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handleNameEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }));\n    }\n\n    let emailEdit = null;\n\n    if (this.state.isEmailEditable) {\n      emailEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Edit Email\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"New Email\"), React.createElement(Form.Control, {\n        name: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Confirm email\"), React.createElement(Form.Control, {\n        name: \"confirmEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Update Email\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleEmailCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }));\n    } else {\n      emailEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Email\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, this.props.profile.email || \"\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handleEmailEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }));\n    }\n\n    let passwordEdit = null;\n\n    if (this.state.isPasswordEditable) {\n      passwordEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"Edit Password\"), React.createElement(Form, {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Old Password\"), React.createElement(Form.Control, {\n        name: \"oldPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"New Password\"), React.createElement(Form.Control, {\n        name: \"newPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(Form.Control, {\n        name: \"confirmPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"Update Password\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handlePasswordCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Cancel\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }));\n    } else {\n      passwordEdit = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Password\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"*************\", React.createElement(\"div\", {\n        class: \"float-right\",\n        role: \"button\",\n        style: {\n          color: \"blue\"\n        },\n        onClick: this.handlePasswordEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Your Account\")), React.createElement(\"a\", {\n      href: \"#\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Address and phone\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Past orders\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"Upcoming orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"pt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Your Account\"), nameEdit, emailEdit, passwordEdit)))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    profile: state.userDetails.userProfile\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(UserProfile);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/GrubHub/UI/grubhub/src/components/User/UserProfile.js"],"names":["React","Component","Navigation","connect","actionCreators","Row","Col","Container","Button","Form","UserProfile","constructor","props","handleNameEdit","event","setState","isNameEditable","handleEmailEdit","isEmailEditable","handlePasswordEdit","isPasswordEditable","handleEmailCancel","handlePasswordCancel","handleNameCancel","updateName","fName","state","firstName","length","profile","lName","lastName","data","email","localStorage","getItem","updateUserName","validateEmail","newEmailError","confirmEmailError","flag","newEmail","trim","includes","confirmEmail","updateEmail","handleChange","target","name","value","componentWillMount","getUserProfile","console","log","render","nameEdit","color","emailEdit","passwordEdit","mapStoreToProps","userDetails","userProfile"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/index\";\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\nimport \"../../css/sidebar.css\";\nimport Form from \"react-bootstrap/Form\";\n\nclass UserProfile extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      isNameEditable: false,\n      isEmailEditable: false,\n      isPasswordEditable: false,\n      firstName: \"\",\n      lastName: \"\",\n      newEmail: \"\",\n      confirmEmail: \"\",\n      newEmailError: \"\",\n      confirmEmailError: \"\"\n    };\n  }\n  componentWillMount() {\n    this.props.getUserProfile(localStorage.getItem(\"email\"));\n    console.log(this.props.profile);\n  }\n  handleNameEdit = event => {\n    this.setState({ isNameEditable: true });\n  };\n  handleEmailEdit = event => {\n    this.setState({ isEmailEditable: true });\n  };\n  handlePasswordEdit = event => {\n    this.setState({ isPasswordEditable: true });\n  };\n  handleEmailCancel = event => {\n    this.setState({ isEmailEditable: false });\n  };\n  handlePasswordCancel = event => {\n    this.setState({ isPasswordEditable: false });\n  };\n  handleNameCancel = event => {\n    this.setState({ isNameEditable: false });\n  };\n  updateName = () => {\n    let fName = \"\";\n    if (this.state.firstName.length === 0) {\n      fName = this.props.profile.firstName;\n    } else {\n      fName = this.state.firstName;\n    }\n    let lName = \"\";\n    if (this.state.lastName.length === 0) {\n      lName = this.props.profile.lastName;\n    } else {\n      lName = this.state.firstName;\n    }\n    let data = {\n      email: localStorage.getItem(\"email\"),\n      firstName: fName,\n      lastName: lName\n    };\n    this.props.updateUserName(data);\n    this.setState({\n      isNameEditable: false\n    });\n  };\n\n  validateEmail = () => {\n    this.setState({\n      newEmailError: \"\",\n      confirmEmailError: \"\"\n    });\n    let flag = true;\n    if (this.state.newEmail.trim().length === 0) {\n      this.setState({\n        newEmailError: \"*Required\"\n      });\n      flag = false;\n    } else if (\n      !this.state.newEmail.includes(\"@\") ||\n      !this.state.newEmail.includes(\".\")\n    ) {\n      this.setState({\n        newEmailError: \"Inavalid email\"\n      });\n      flag = false;\n    }\n    if (this.state.confirmEmail.trim().length === 0) {\n      this.setState({\n        confirmEmailError: \"*Required\"\n      });\n      flag = false;\n    } else if (this.state.newEmail !== this.state.confirmEmail) {\n      this.setState({\n        confirmEmailError: \"Confirm new email does not match\"\n      });\n      flag = false;\n    }\n    return flag;\n  };\n\n  updateEmail = () => {\n    if (validateEmail()) {\n      let data = {\n        email: localStorage.getItem(\"email\"),\n        newEmail: this.state.newEmail\n      };\n    }\n  };\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  render() {\n    let nameEdit = null;\n    if (this.state.isNameEditable) {\n      nameEdit = (\n        <div>\n          <h3>Edit Name</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>First Name</Form.Label>\n              <Form.Control\n                name=\"firstName\"\n                onChange={this.handleChange}\n                defaultValue={this.props.profile.firstName || \"\"}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Last Name</Form.Label>\n              <Form.Control\n                name=\"lastName\"\n                onChange={this.handleChange}\n                defaultValue={this.props.profile.lastName || \"\"}\n              ></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Button onClick={this.updateName}>Update Name</Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handleNameCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      nameEdit = (\n        <div>\n          <label className=\"pt-2\">\n            <b>Name</b>\n          </label>\n          <div>\n            {this.props.profile.firstName || \"\"}{\" \"}\n            {this.props.profile.lastName || \"\"}\n            <div\n              class=\"float-right\"\n              role=\"button\"\n              style={{ color: \"blue\" }}\n              onClick={this.handleNameEdit}\n            >\n              Edit\n            </div>\n          </div>\n          <hr></hr>\n        </div>\n      );\n    }\n    let emailEdit = null;\n    if (this.state.isEmailEditable) {\n      emailEdit = (\n        <div>\n          <h3>Edit Email</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>New Email</Form.Label>\n              <Form.Control name=\"email\"></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Confirm email</Form.Label>\n              <Form.Control name=\"confirmEmail\"></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Button>Update Email</Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handleEmailCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      emailEdit = (\n        <div>\n          <label className=\"pt-2\">\n            <b>Email</b>\n          </label>\n          <div>\n            {this.props.profile.email || \"\"}\n            <div\n              class=\"float-right\"\n              role=\"button\"\n              style={{ color: \"blue\" }}\n              onClick={this.handleEmailEdit}\n            >\n              Edit\n            </div>\n          </div>\n          <hr></hr>\n        </div>\n      );\n    }\n    let passwordEdit = null;\n    if (this.state.isPasswordEditable) {\n      passwordEdit = (\n        <div>\n          <h3>Edit Password</h3>\n          <Form className=\"col-sm-5\">\n            <Form.Group>\n              <Form.Label>Old Password</Form.Label>\n              <Form.Control name=\"oldPassword\"></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>New Password</Form.Label>\n              <Form.Control name=\"newPassword\"></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Confirm Password</Form.Label>\n              <Form.Control name=\"confirmPassword\"></Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Button>Update Password</Button>\n              <Button\n                variant=\"outline-secondary\"\n                onClick={this.handlePasswordCancel}\n              >\n                Cancel\n              </Button>\n            </Form.Group>\n          </Form>\n          <hr></hr>\n        </div>\n      );\n    } else {\n      passwordEdit = (\n        <div>\n          <label className=\"pt-2\">\n            <b>Password</b>\n          </label>\n          <div>\n            *************\n            <div\n              class=\"float-right\"\n              role=\"button\"\n              style={{ color: \"blue\" }}\n              onClick={this.handlePasswordEdit}\n            >\n              Edit\n            </div>\n          </div>\n          <hr></hr>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <Navigation></Navigation>\n        <div>\n          <Row>\n            <Col className=\"col-sm-3\">\n              <div className=\"vertical-menu bg-light\">\n                <a href=\"#\" className=\"header\">\n                  <h2>Your Account</h2>\n                </a>\n                <a href=\"#\" className=\"active\">\n                  Profile\n                </a>\n                <a href=\"#\">Address and phone</a>\n                <a href=\"#\">Past orders</a>\n                <a href=\"#\">Upcoming orders</a>\n              </div>\n            </Col>\n            <Col className=\"col-sm-9\">\n              <Container>\n                <h3 className=\"pt-5\">Your Account</h3>\n\n                {nameEdit}\n                {emailEdit}\n                {passwordEdit}\n              </Container>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    profile: state.userDetails.userProfile\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}