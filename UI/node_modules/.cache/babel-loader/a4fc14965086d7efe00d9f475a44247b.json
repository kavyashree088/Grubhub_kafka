{"ast":null,"code":"var _jsxFileName = \"/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/User/UpcomingOrdersPage.js\";\nimport React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/index\";\nimport { Container, Card, Col, Row } from \"react-bootstrap\";\nimport \"../../css/grubhub.css\";\n\nclass UpcomingOrdersPage extends Component {\n  constructor(props) {\n    super();\n\n    this.clickMessage = order => event => {\n      console.log(order._id);\n      this.props.history.push({\n        pathname: \"/user/Messages\",\n        state: {\n          restaurant: order.restaurant,\n          userId: order.user._id\n        }\n      });\n    };\n\n    this.state = {\n      items: []\n    };\n  }\n\n  async componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n\n    await this.props.getUserProfile(localStorage.getItem(\"email\"));\n    console.log(this.props.profile);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const newProfile = nextProps.profile;\n\n    if (newProfile !== this.props.profile) {\n      this.props.getOrderDetails(newProfile._id);\n    }\n  }\n\n  render() {\n    let itemDetails = id => {\n      let orders = this.props.orderDetails.map(order => {\n        let items = \"\";\n\n        if (order._id === id) {\n          items = order.items.map(item => {\n            return React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 44\n              },\n              __self: this\n            }, item.itemName);\n          });\n        }\n\n        return items;\n      });\n      return orders;\n    };\n\n    let newOrders = this.props.orderDetails.map(order => {\n      if (order.status === \"New\") {\n        return React.createElement(\"div\", {\n          style: {\n            margin: \" 8px 0 0 8px\"\n          },\n          className: \"pt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"Order Id:\", order._id), React.createElement(\"a\", {\n          class: \"float-right\",\n          href: \"#\",\n          onClick: this.clickMessage(order),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Message Restaurant\")), React.createElement(Card.Body, {\n          as: Row,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, order.name), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0])), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"Items\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, itemDetails(order._id))), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Status\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, order.status)))));\n      }\n\n      return null;\n    });\n    let preparingOrders = this.props.orderDetails.map(order => {\n      if (order.status === \"Preparing\") {\n        return React.createElement(\"div\", {\n          style: {\n            margin: \" 8px 0 0 8px\"\n          },\n          className: \"pt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, \"Order Id:\", order._id), React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"Message Restaurant\")), React.createElement(Card.Body, {\n          as: Row,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, order.name), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0])), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \"Items\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, itemDetails(order._id))), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"Status\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, order.status)))));\n      }\n\n      return null;\n    });\n    let readyOrders = this.props.orderDetails.map(order => {\n      if (order.status === \"Ready\") {\n        return React.createElement(\"div\", {\n          style: {\n            margin: \" 8px 0 0 8px\"\n          },\n          className: \"pt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(Card.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"Order Id:\", order._id), React.createElement(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"Message Restaurant\")), React.createElement(Card.Body, {\n          as: Row,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, order.name), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Time:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[1]), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"Date:\", order.createdAt.toString().slice(0, 19).replace(\"T\", \" \").split(\" \")[0])), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"Items\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, itemDetails(order._id))), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, \"Status\"), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, order.status)))));\n      }\n\n      return null;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"vertical-menu bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/user/PastOrders\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Upcoming Orders\")), React.createElement(\"a\", {\n      href: \"/UserHome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"a\", {\n      href: \"/user/upcomingOrders\",\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Upcoming orders\"), React.createElement(\"a\", {\n      href: \"/user/Messages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Messages\"), React.createElement(\"a\", {\n      href: \"/Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(\"a\", {\n      href: \"/user/AddressAndPhone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Address and phone\"), React.createElement(\"a\", {\n      href: \"/user/PastOrders\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Past orders\"))), React.createElement(Col, {\n      className: \"col-sm-9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Your Orders\")), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"New Orders\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, newOrders), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Preparing Orders\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, preparingOrders), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Ready Orders\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, readyOrders)))));\n  }\n\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    profile: state.userDetails.userProfile,\n    orderDetails: state.userDetails.orderDetails,\n    itemDetails: state.userDetails.itemDetails\n  };\n}\n\nexport default connect(mapStoreToProps, actionCreators)(UpcomingOrdersPage);","map":{"version":3,"sources":["/Users/kavyashreechandrashekar/Desktop/CMPE-273/Lab2/UI/grubhub/src/components/User/UpcomingOrdersPage.js"],"names":["React","Component","Navigation","connect","actionCreators","Container","Card","Col","Row","UpcomingOrdersPage","constructor","props","clickMessage","order","event","console","log","_id","history","push","pathname","state","restaurant","userId","user","items","componentWillMount","localStorage","getItem","removeItem","getUserProfile","profile","componentWillReceiveProps","nextProps","newProfile","getOrderDetails","render","itemDetails","id","orders","orderDetails","map","item","itemName","newOrders","status","margin","name","createdAt","toString","slice","replace","split","preparingOrders","readyOrders","mapStoreToProps","userDetails","userProfile"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,WAAvB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,cAAZ,MAAgC,wBAAhC;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,QAA0C,iBAA1C;AACA,OAAO,uBAAP;;AAEA,MAAMC,kBAAN,SAAiCR,SAAjC,CAA2C;AACzCS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB;;AADiB,SAsBnBC,YAtBmB,GAsBJC,KAAK,IAAIC,KAAK,IAAI;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,GAAlB;AACA,WAAKN,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB;AACtBC,QAAAA,QAAQ,EAAE,gBADY;AAEtBC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAET,KAAK,CAACS,UAApB;AAAgCC,UAAAA,MAAM,EAAEV,KAAK,CAACW,IAAN,CAAWP;AAAnD;AAFe,OAAxB;AAID,KA5BkB;;AAEjB,SAAKI,KAAL,GAAa;AACXI,MAAAA,KAAK,EAAE;AADI,KAAb;AAGD;;AAED,QAAMC,kBAAN,GAA2B;AACzB,QAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAL,EAAuC;AACrCD,MAAAA,YAAY,CAACE,UAAb,CAAwB,OAAxB;AACAF,MAAAA,YAAY,CAACE,UAAb,CAAwB,UAAxB;AACA,WAAKlB,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD;;AACD,UAAM,KAAKR,KAAL,CAAWmB,cAAX,CAA0BH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA1B,CAAN;AACAb,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAL,CAAWoB,OAAvB;AACD;;AACDC,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACnC,UAAMC,UAAU,GAAGD,SAAS,CAACF,OAA7B;;AACA,QAAIG,UAAU,KAAK,KAAKvB,KAAL,CAAWoB,OAA9B,EAAuC;AACrC,WAAKpB,KAAL,CAAWwB,eAAX,CAA2BD,UAAU,CAACjB,GAAtC;AACD;AACF;;AAQDmB,EAAAA,MAAM,GAAG;AACP,QAAIC,WAAW,GAAGC,EAAE,IAAI;AACtB,UAAIC,MAAM,GAAG,KAAK5B,KAAL,CAAW6B,YAAX,CAAwBC,GAAxB,CAA4B5B,KAAK,IAAI;AAChD,YAAIY,KAAK,GAAG,EAAZ;;AACA,YAAIZ,KAAK,CAACI,GAAN,KAAcqB,EAAlB,EAAsB;AACpBb,UAAAA,KAAK,GAAGZ,KAAK,CAACY,KAAN,CAAYgB,GAAZ,CAAgBC,IAAI,IAAI;AAC9B,mBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAMA,IAAI,CAACC,QAAX,CAAP;AACD,WAFO,CAAR;AAGD;;AACD,eAAOlB,KAAP;AACD,OARY,CAAb;AASA,aAAOc,MAAP;AACD,KAXD;;AAYA,QAAIK,SAAS,GAAG,KAAKjC,KAAL,CAAW6B,YAAX,CAAwBC,GAAxB,CAA4B5B,KAAK,IAAI;AACnD,UAAIA,KAAK,CAACgC,MAAN,KAAiB,KAArB,EAA4B;AAC1B,eACE;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,MAAM,EAAE;AADH,WADT;AAIE,UAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAajC,KAAK,CAACI,GAAnB,CADF,EAEE;AACE,UAAA,KAAK,EAAC,aADR;AAEE,UAAA,IAAI,EAAC,GAFP;AAGE,UAAA,OAAO,EAAE,KAAKL,YAAL,CAAkBC,KAAlB,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,CADF,EAWE,oBAAC,IAAD,CAAM,IAAN;AAAW,UAAA,EAAE,EAAEL,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAaK,KAAK,CAACkC,IAAnB,CADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGIlC,KAAK,CAACmC,SAAN,CACGC,QADH,GAEGC,KAFH,CAES,CAFT,EAEY,EAFZ,EAGGC,OAHH,CAGW,GAHX,EAGgB,GAHhB,EAIGC,KAJH,CAIS,GAJT,EAIc,CAJd,CAHJ,CAFF,EAYE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGIvC,KAAK,CAACmC,SAAN,CACGC,QADH,GAEGC,KAFH,CAES,CAFT,EAEY,EAFZ,EAGGC,OAHH,CAGW,GAHX,EAGgB,GAHhB,EAIGC,KAJH,CAIS,GAJT,EAIc,CAJd,CAHJ,CAZF,CADF,EAwBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAYf,WAAW,CAACxB,KAAK,CAACI,GAAP,CAAvB,CAFF,CAxBF,EA4BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAYJ,KAAK,CAACgC,MAAlB,CAFF,CA5BF,CAXF,CANF,CADF;AAsDD;;AACD,aAAO,IAAP;AACD,KA1De,CAAhB;AA2DA,QAAIQ,eAAe,GAAG,KAAK1C,KAAL,CAAW6B,YAAX,CAAwBC,GAAxB,CAA4B5B,KAAK,IAAI;AACzD,UAAIA,KAAK,CAACgC,MAAN,KAAiB,WAArB,EAAkC;AAChC,eACE;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,MAAM,EAAE;AADH,WADT;AAIE,UAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAajC,KAAK,CAACI,GAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,CADF,EAKE,oBAAC,IAAD,CAAM,IAAN;AAAW,UAAA,EAAE,EAAET,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAaK,KAAK,CAACkC,IAAnB,CADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGIlC,KAAK,CAACmC,SAAN,CACGC,QADH,GAEGC,KAFH,CAES,CAFT,EAEY,EAFZ,EAGGC,OAHH,CAGW,GAHX,EAGgB,GAHhB,EAIGC,KAJH,CAIS,GAJT,EAIc,CAJd,CAHJ,CAFF,EAYE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGIvC,KAAK,CAACmC,SAAN,CACGC,QADH,GAEGC,KAFH,CAES,CAFT,EAEY,EAFZ,EAGGC,OAHH,CAGW,GAHX,EAGgB,GAHhB,EAIGC,KAJH,CAIS,GAJT,EAIc,CAJd,CAHJ,CAZF,CADF,EAwBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAYf,WAAW,CAACxB,KAAK,CAACI,GAAP,CAAvB,CAFF,CAxBF,EA4BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAYJ,KAAK,CAACgC,MAAlB,CAFF,CA5BF,CALF,CANF,CADF;AAgDD;;AACD,aAAO,IAAP;AACD,KApDqB,CAAtB;AAqDA,QAAIS,WAAW,GAAG,KAAK3C,KAAL,CAAW6B,YAAX,CAAwBC,GAAxB,CAA4B5B,KAAK,IAAI;AACrD,UAAIA,KAAK,CAACgC,MAAN,KAAiB,OAArB,EAA8B;AAC5B,eACE;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,MAAM,EAAE;AADH,WADT;AAIE,UAAA,SAAS,EAAC,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAajC,KAAK,CAACI,GAAnB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,CADF,EAKE,oBAAC,IAAD,CAAM,IAAN;AAAW,UAAA,EAAE,EAAET,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAaK,KAAK,CAACkC,IAAnB,CADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGIlC,KAAK,CAACmC,SAAN,CACGC,QADH,GAEGC,KAFH,CAES,CAFT,EAEY,EAFZ,EAGGC,OAHH,CAGW,GAHX,EAGgB,GAHhB,EAIGC,KAJH,CAIS,GAJT,EAIc,CAJd,CAHJ,CAFF,EAYE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGIvC,KAAK,CAACmC,SAAN,CACGC,QADH,GAEGC,KAFH,CAES,CAFT,EAEY,EAFZ,EAGGC,OAHH,CAGW,GAHX,EAGgB,GAHhB,EAIGC,KAJH,CAIS,GAJT,EAIc,CAJd,CAHJ,CAZF,CADF,EAwBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAYf,WAAW,CAACxB,KAAK,CAACI,GAAP,CAAvB,CAFF,CAxBF,EA4BE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAYJ,KAAK,CAACgC,MAAlB,CAFF,CA5BF,CALF,CANF,CADF;AAgDD;;AACD,aAAO,IAAP;AACD,KApDiB,CAAlB;AAqDA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,kBAAR;AAA2B,MAAA,SAAS,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,EAIE;AAAG,MAAA,IAAI,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,EAKE;AAAG,MAAA,IAAI,EAAC,sBAAR;AAA+B,MAAA,SAAS,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBALF,EAQE;AAAG,MAAA,IAAI,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,EASE;AAAG,MAAA,IAAI,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,EAUE;AAAG,MAAA,IAAI,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAVF,EAWE;AAAG,MAAA,IAAI,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAXF,CADF,CADF,EAgBE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CALF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMD,SAAN,CARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CAVF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMS,eAAN,CAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CAfF,EAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMC,WAAN,CAlBF,CADF,CAhBF,CAFF,CADF;AA4CD;;AA5PwC;;AA+P3C,SAASC,eAAT,CAAyBlC,KAAzB,EAAgC;AAC9B,SAAO;AACLU,IAAAA,OAAO,EAAEV,KAAK,CAACmC,WAAN,CAAkBC,WADtB;AAELjB,IAAAA,YAAY,EAAEnB,KAAK,CAACmC,WAAN,CAAkBhB,YAF3B;AAGLH,IAAAA,WAAW,EAAEhB,KAAK,CAACmC,WAAN,CAAkBnB;AAH1B,GAAP;AAKD;;AACD,eAAelC,OAAO,CACpBoD,eADoB,EAEpBnD,cAFoB,CAAP,CAGbK,kBAHa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Navigation from \"../Navbar\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../js/actions/index\";\nimport { Container, Card, Col, Row } from \"react-bootstrap\";\nimport \"../../css/grubhub.css\";\n\nclass UpcomingOrdersPage extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      items: []\n    };\n  }\n\n  async componentWillMount() {\n    if (!localStorage.getItem(\"jwtToken\")) {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"password\");\n      this.props.history.push(\"/SignIn\");\n    }\n    await this.props.getUserProfile(localStorage.getItem(\"email\"));\n    console.log(this.props.profile);\n  }\n  componentWillReceiveProps(nextProps) {\n    const newProfile = nextProps.profile;\n    if (newProfile !== this.props.profile) {\n      this.props.getOrderDetails(newProfile._id);\n    }\n  }\n  clickMessage = order => event => {\n    console.log(order._id);\n    this.props.history.push({\n      pathname: \"/user/Messages\",\n      state: { restaurant: order.restaurant, userId: order.user._id }\n    });\n  };\n  render() {\n    let itemDetails = id => {\n      let orders = this.props.orderDetails.map(order => {\n        let items = \"\";\n        if (order._id === id) {\n          items = order.items.map(item => {\n            return <div>{item.itemName}</div>;\n          });\n        }\n        return items;\n      });\n      return orders;\n    };\n    let newOrders = this.props.orderDetails.map(order => {\n      if (order.status === \"New\") {\n        return (\n          <div\n            style={{\n              margin: \" 8px 0 0 8px\"\n            }}\n            className=\"pt-3\"\n          >\n            <Card>\n              <Card.Header>\n                <a>Order Id:{order._id}</a>\n                <a\n                  class=\"float-right\"\n                  href=\"#\"\n                  onClick={this.clickMessage(order)}\n                >\n                  Message Restaurant\n                </a>\n              </Card.Header>\n              <Card.Body as={Row}>\n                <Col>\n                  <Card.Title>{order.name}</Card.Title>\n                  <Card.Text>\n                    Time:\n                    {\n                      order.createdAt\n                        .toString()\n                        .slice(0, 19)\n                        .replace(\"T\", \" \")\n                        .split(\" \")[1]\n                    }\n                  </Card.Text>\n                  <Card.Text>\n                    Date:\n                    {\n                      order.createdAt\n                        .toString()\n                        .slice(0, 19)\n                        .replace(\"T\", \" \")\n                        .split(\" \")[0]\n                    }\n                  </Card.Text>\n                </Col>\n                <Col>\n                  <b>Items</b>\n                  <Card.Text>{itemDetails(order._id)}</Card.Text>\n                </Col>\n                <Col>\n                  <b>Status</b>\n                  <Card.Text>{order.status}</Card.Text>\n                </Col>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n      return null;\n    });\n    let preparingOrders = this.props.orderDetails.map(order => {\n      if (order.status === \"Preparing\") {\n        return (\n          <div\n            style={{\n              margin: \" 8px 0 0 8px\"\n            }}\n            className=\"pt-3\"\n          >\n            <Card>\n              <Card.Header>\n                <a>Order Id:{order._id}</a>\n                <a>Message Restaurant</a>\n              </Card.Header>\n              <Card.Body as={Row}>\n                <Col>\n                  <Card.Title>{order.name}</Card.Title>\n                  <Card.Text>\n                    Time:\n                    {\n                      order.createdAt\n                        .toString()\n                        .slice(0, 19)\n                        .replace(\"T\", \" \")\n                        .split(\" \")[1]\n                    }\n                  </Card.Text>\n                  <Card.Text>\n                    Date:\n                    {\n                      order.createdAt\n                        .toString()\n                        .slice(0, 19)\n                        .replace(\"T\", \" \")\n                        .split(\" \")[0]\n                    }\n                  </Card.Text>\n                </Col>\n                <Col>\n                  <b>Items</b>\n                  <Card.Text>{itemDetails(order._id)}</Card.Text>\n                </Col>\n                <Col>\n                  <b>Status</b>\n                  <Card.Text>{order.status}</Card.Text>\n                </Col>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n      return null;\n    });\n    let readyOrders = this.props.orderDetails.map(order => {\n      if (order.status === \"Ready\") {\n        return (\n          <div\n            style={{\n              margin: \" 8px 0 0 8px\"\n            }}\n            className=\"pt-3\"\n          >\n            <Card>\n              <Card.Header>\n                <a>Order Id:{order._id}</a>\n                <a>Message Restaurant</a>\n              </Card.Header>\n              <Card.Body as={Row}>\n                <Col>\n                  <Card.Title>{order.name}</Card.Title>\n                  <Card.Text>\n                    Time:\n                    {\n                      order.createdAt\n                        .toString()\n                        .slice(0, 19)\n                        .replace(\"T\", \" \")\n                        .split(\" \")[1]\n                    }\n                  </Card.Text>\n                  <Card.Text>\n                    Date:\n                    {\n                      order.createdAt\n                        .toString()\n                        .slice(0, 19)\n                        .replace(\"T\", \" \")\n                        .split(\" \")[0]\n                    }\n                  </Card.Text>\n                </Col>\n                <Col>\n                  <b>Items</b>\n                  <Card.Text>{itemDetails(order._id)}</Card.Text>\n                </Col>\n                <Col>\n                  <b>Status</b>\n                  <Card.Text>{order.status}</Card.Text>\n                </Col>\n              </Card.Body>\n            </Card>\n          </div>\n        );\n      }\n      return null;\n    });\n    return (\n      <div>\n        <Navigation></Navigation>\n        <Row>\n          <Col className=\"col-sm-3\">\n            <div className=\"vertical-menu bg-light\">\n              <a href=\"/user/PastOrders\" className=\"header\">\n                <h2>Upcoming Orders</h2>\n              </a>\n              <a href=\"/UserHome\">Home</a>\n              <a href=\"/user/upcomingOrders\" className=\"active\">\n                Upcoming orders\n              </a>\n              <a href=\"/user/Messages\">Messages</a>\n              <a href=\"/Profile\">Profile</a>\n              <a href=\"/user/AddressAndPhone\">Address and phone</a>\n              <a href=\"/user/PastOrders\">Past orders</a>\n            </div>\n          </Col>\n          <Col className=\"col-sm-9\">\n            <Container>\n              <div className=\"pt-3\">\n                <h1>Your Orders</h1>\n              </div>\n              <hr></hr>\n              <div>\n                <h3>New Orders</h3>\n              </div>\n              <div>{newOrders}</div>\n              <hr></hr>\n              <div>\n                <h3>Preparing Orders</h3>\n              </div>\n              <div>{preparingOrders}</div>\n              <hr></hr>\n              <div>\n                <h3>Ready Orders</h3>\n              </div>\n              <div>{readyOrders}</div>\n            </Container>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nfunction mapStoreToProps(state) {\n  return {\n    profile: state.userDetails.userProfile,\n    orderDetails: state.userDetails.orderDetails,\n    itemDetails: state.userDetails.itemDetails\n  };\n}\nexport default connect(\n  mapStoreToProps,\n  actionCreators\n)(UpcomingOrdersPage);\n"]},"metadata":{},"sourceType":"module"}